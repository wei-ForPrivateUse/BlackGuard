/*
 * Replay(a2Game_Sample).h
 *
 *  Created on: Jan 14, 2015
 *      Author: wei
 */

#ifndef REPLAY_A2GAME_SAMPLE__H_
#define REPLAY_A2GAME_SAMPLE__H_

#include <iostream>
#include <fstream>

void Draw();

void DrawSolidCircle(const b2Vec2& center, float32 radius, const b2Color& color);
void DrawSolidPolygon(const b2Vec2* vertices, int32 vertexCount, const b2Color& color);
void DrawString(int x, int y, const char *string, ...);
void DrawString(const b2Vec2& p, const char *string, ...);
void DrawSegment(const b2Vec2& p1, const b2Vec2& p2, const b2Color& color);

class Replay_a2Game_Sample: public Test {
public:

	Replay_a2Game_Sample() {
		//ANNWeights* weights = new ANNWeights({28, 20, 2}, {false, true, false}, {false, true, true}, true);
		//double w[1022] = {-0.4873244263035567,-0.40969297562034185,0.626995703993289,-0.444796659668312,-0.7899800455565201,0.8736766279545828,0.4580253885225426,-0.06056890814411301,-0.5948597420972971,-0.4893092804463266,-0.2701345894532133,0.41640366993528083,-0.6493513729406757,-0.8158820312539312,-0.07863327325144873,0.4215481368363194,0.05544442965833595,-0.8989625148992914,0.7020458345275045,0.24132014811658467,-0.952883450358973,-1.0,-0.5099499039856011,-0.5982321849735655,-0.0294610067031216,0.7380217340165011,0.16052738527405877,-0.6466620807511079,-0.23542930174399185,-0.6474394912285513,0.5060978685749865,0.21726789648843078,-0.9962959430230297,-0.4925286059998317,-1.0,0.29925132305122765,0.8582353239996464,-0.3981449980810854,-0.35492443801277285,-0.5334943211557323,-0.6350751818336741,0.17436891524451234,-0.9276094038521541,-0.21986231323514607,0.8952417211010856,-0.9141464117500623,-0.8116058502822119,0.5581049861483893,0.917468131554947,-0.06849048962037549,0.8385684132482175,0.6134083215498289,0.9511640776663551,0.2959081206701984,-0.3792091385171724,0.0855445108084679,-0.5995057101727902,-0.587673786920829,-1.0,-0.6712203075176579,-0.46794545601971654,-0.20481316591360404,0.4483965473489015,-0.23044041729575435,0.006229270986616632,-0.5804268597986953,0.872694079510472,-0.3800520717546859,-0.7203943860336967,-0.8442840005655328,0.46224869187083906,0.9516914393094948,0.39984717669454745,0.035779641696471076,-0.25168452622500576,0.06822056821864755,-0.021310953130742796,0.9573793350862538,0.5516516672204447,-0.0681604953894788,-0.4337779234161526,0.3764727485286701,-0.26148937268604316,-0.026328492187601336,-0.5867174549404325,-0.02282551066840619,0.6263503885651492,0.05943389019051667,-0.8360728795504113,-0.6015934443685063,0.7920813179285795,0.8628276284198159,-0.6536820103162487,0.4065090904062431,-0.9318467177455138,0.16024309781626467,-0.06988857874561549,0.8675482569899586,-0.8812764162566696,-0.2814910305301076,0.2493034217398467,-0.5588277191430319,0.6741876066379634,1.0,-0.6269168176949598,0.6369144237621115,0.8824682712806174,-0.20167216951205624,0.26488868526270726,-0.0672814530112487,0.4563989010303182,-0.36600523089879317,0.6892476822207071,0.34664219040387884,0.18556139834264196,0.06691304136619175,0.15743532444992536,-0.7681896832333036,0.6963103357854179,0.7070103862677266,0.1317424836993824,0.6045885104155306,0.1297818516470838,0.42618098203089727,0.951336182288957,0.4152238762378574,-0.3554433205500258,-0.6909816711160586,-0.801207621866514,-0.05405515284527229,0.9775495005262115,0.2699326511383923,-0.06449335166208561,-0.25773378788914836,-0.8786150200545709,0.8444199690777984,-0.29980552108801256,-0.6525058730171349,-0.8428206244968656,-0.8228501633887262,-0.1812455474804309,0.2106174650203682,0.2845169403837528,-0.29919665501628834,-0.39512151771636506,0.6734429472552959,-0.1641855223263842,0.9222722095612251,0.5391059481252721,-0.29752262302609206,-0.03005219884467741,0.1831755944939431,-0.33717399755229904,-0.7469022812773372,-0.8741731900437224,0.07926428100682313,0.8534536038676456,-0.19296582683495714,-0.9080457970315363,0.9306649792366364,-0.7162926974598187,0.7712691941431743,0.09213538138525809,0.2871752948244658,-0.5109334971747477,0.5691955726055271,-0.5416081110942441,0.8526874777911627,0.0022881439278753316,0.41380043265441097,-0.8999658123164958,0.2791977556411524,0.6431250374503491,-0.37598916026188994,0.584118784254184,-0.6060858813026544,-0.9994053480340468,0.8645225027734291,0.20562378815413415,-0.015881030535065167,-0.8404220494497837,-0.4620250556412699,-0.7134782734019984,-0.8839001085509541,-0.11318835307393822,0.14067036737136324,-0.6810787283995825,0.8966555210831497,0.06225540822555461,0.8091359459583436,-0.44400768926980083,0.9383608118342273,-0.3529541959048816,0.3946176595465136,-0.341899904575603,0.576930590460849,0.011002974117168296,0.722072759373334,-0.6221004984649495,-0.030748283768091904,-0.38572573636649804,0.8500585449520413,0.5063641847992754,0.48552929720326043,-0.09765986909921191,0.23751794185344788,0.40443459096674367,-0.6878033294185661,-0.5724882126323555,0.34582087108054277,0.9651927970663172,0.1501783025775733,0.11312687637050013,0.18449576606797938,0.47570751898229163,0.6882888813123813,-0.7827597258542704,-0.18276960163784822,-0.8167239767802175,0.2974365578315067,0.024179531926968947,-0.21682662870369435,-0.8320754984290976,-0.45474501911140164,-0.03667397498474575,-0.9651379170319901,0.03785361139058962,-0.7118775372207028,-0.1895781239569453,-0.5418612735077316,-0.1458389844022974,0.2817116112258567,-0.7221074643484036,-0.1861204810925,0.4701007693661941,-0.20524410974703153,0.37629307527210143,0.39629323772737074,0.6877772913393896,0.12510685655482942,0.9688650917553197,-0.9874576409189756,0.08984532491312786,0.6737031300960739,-0.9889211486194344,0.012270293148085146,-0.13463178257869204,-0.3612013649330403,-0.1691729721078969,-0.1326668875254825,-0.6004237553721794,-0.21695892102087516,0.503331656244068,0.8490588777071725,-0.8749443289493876,-0.7569200213233632,-0.5859730267951738,-0.1915322287153798,0.42776599287863326,0.8620752577983415,0.7577351713241942,-0.9066160018521013,-0.28886310037945934,-0.3085226632596356,0.7659306513101032,0.6162078544681406,0.06004456440784073,0.4495489018280061,-0.17793484996233216,-0.5324589010336602,0.7282658522311084,-0.09303696523753335,-0.0684531135066021,0.05969099115474507,0.9101325645332392,0.4175313422547428,-0.042054853241638594,0.47382499246395793,0.2975614207278684,-0.2823053038542917,0.1574779603284683,0.23503337242553546,1.0,-0.7318955781475702,0.10978440859964908,-0.5011876421654385,0.886732299381995,0.7025555404884068,0.024696926211467733,-0.9681065741600875,-0.4996877916935367,-0.7039196188905313,0.7070831458788455,-0.8246458361134383,0.9348920469449059,-0.10781680917902703,0.6013663650290495,0.8433229322716583,0.7771775032265452,0.8496079531648795,0.0568022473421939,-0.011423545612189709,0.7675163360662659,0.4804069899690084,-0.5594725430500077,0.9656742021597253,-0.7698148726827443,0.3097835581409541,-0.9149749594943943,-0.10824913014479046,-0.18178971420899992,-0.314446830775646,-0.9870562045166429,0.7333876131743108,0.667087540502856,0.8027562967107538,-0.7667768585397676,-0.4243858115610938,0.10951641386004102,0.4310164951734654,-0.692903689760401,0.7459172189648462,0.963612698034154,-0.9003330404496536,-0.7821888190691634,-0.7641054070735099,0.9402996475608401,0.4192648238705591,-0.6530021812241323,-0.9761914903242997,-0.7008410000164744,-0.047678213219094094,0.9575207320850474,-0.8903196782134294,0.4682782087792823,-0.6673468358017081,0.8757959989942684,0.8555044981291057,0.851313058057321,0.4954106520364498,0.9110119500979122,-0.9683692774771009,-0.43461040830013586,0.5083808174549335,-0.5198606463912147,0.38576992875624194,-0.1810386200430187,-0.11111275280086864,0.8271833563562977,-0.03814218068178318,-0.39847503761662584,-0.36032505278697896,0.17673036290253238,-0.37865286336130544,0.6377856380369807,0.18299995260718963,-0.6194702776397353,0.9747246751882932,-0.23620331303904446,0.8808558184683237,0.9931821025122861,0.35119664254649907,-0.6771201647648009,-0.49786262024159306,0.010655027802449852,-0.8722028041392712,0.14924344616781154,0.9404431068223508,-0.9285969544784837,-0.6235512302947017,0.24253861560344359,0.9539359706631757,0.19041825520991273,0.26977275849017446,0.4331347587006158,-0.8047883685803309,0.7259889366660692,-0.6013523612598256,-7.932032075873563E-4,-0.359392658569452,-0.6202431494847053,-0.30612454103206643,-0.5758023888633695,-0.6713485904759756,-0.07138693459701645,1.0,-0.25542671373000614,0.011018936503862146,-0.4601189244850626,0.012237717797765033,-0.5258738684203242,0.20318856371569244,0.06763831140938797,-0.6330193558477243,0.48284449318814276,-0.7999737266399766,-0.8219914734879938,0.46069934439456595,0.7057231019982692,0.14576787387496876,-0.8258475312276808,-0.7955978003375909,0.866334224548512,-0.35081082444772044,0.944922717784959,0.36508273062395136,0.1952982786785755,0.2812078567420803,0.040704694797929396,-0.8276748850386583,-0.803703848017248,-0.058706776445995805,-0.7159675664653492,0.1578902000740282,0.1682816534001583,-0.9000650898374131,0.5532994263944089,0.9073204983017784,0.3057561954249107,-0.7749913021404619,0.20874897760055636,-0.8256360874723951,-0.00791048036740048,0.3514975196370224,-0.5064704256253284,-0.801119443767361,0.22511959924601424,0.04418101932077091,0.9279708629372891,-1.0,-0.9620182455227155,-0.6333763266101609,0.2408063152546799,-0.3817104341495288,-0.72770542878742,-0.588013442714058,-0.27680799780292314,-0.5421551153096041,0.640703395329665,-0.8146109957408694,0.437626539674187,-0.32116569237413756,0.7804823672771273,-0.15657708307958135,-0.9965246112996847,0.4789020927294467,0.15203511724078755,0.19593762828944342,-0.1478038028744533,-0.9621305500480469,0.8613066917412834,0.6350841726185127,-0.0919289627758481,0.08937880298647925,0.4382073126153679,-0.9135083798052144,0.8548123805667204,-0.5848448398360039,-0.0711136821323442,-0.322223990401183,0.7956009575496487,0.7421072250564565,0.44894062602344553,-0.19867518067490997,-0.44341262204220616,-0.24447507108449518,-0.8932368556934775,-1.0,-0.1790054204817946,-0.5532689794031646,-0.5072002957936574,-0.721715154745261,-0.17085121132701028,-0.6159858906101294,-0.9629193946988068,0.557880295539769,-0.523401425991804,0.21454098865843235,-0.8633636809091374,-0.5325017956850299,-0.1500197486613609,0.4837325204582096,0.465009892347771,-0.4015302862119111,0.9448200196948783,-0.3911642491603697,0.28977535692035056,0.5197899377534485,0.8275758675084011,-0.49784649729916775,0.43757132198584653,-0.004393064041661912,0.4134598722016368,0.18238720048169335,0.5478937669690642,-0.7390835687759241,-0.08297337160848302,0.01753343853048347,-0.35127911905330345,-0.36000102880926466,-0.43202239430405803,0.16185506302803357,-0.030300259427749714,-0.3925048468039726,-0.5264281600568232,-0.41651686544780525,-0.4148305961593916,0.06616825557905807,-0.2560225068122965,-0.37190055667129357,-0.6801535717709098,-0.6235240298354046,-0.11253162663165167,-0.5464339719443765,0.7510877542777835,0.6878242641403672,-0.31690350666181755,-0.1051957297323835,-0.7957603581713344,0.8103776049346135,-0.5695437403427456,-0.0796848631062432,0.36577871666590484,-0.7336467569122013,0.39799928210047425,0.2519685792198122,-0.3765370075402302,-1.0,-0.2653327675757908,-0.34877724392907655,0.795522378437765,0.703295638619837,-0.46217094244469376,-0.6641461267341304,-0.8418304385913185,-0.25660079612009784,-0.3263618283961268,-0.6960362206443231,-0.751984977677846,-0.9644239638858616,0.06314581805668276,-0.6912937925631428,-0.9196393971317969,0.8963330375836029,0.7916026178043944,0.759838318000988,-0.9423873906266058,0.9064688294107023,0.8290408964246249,0.008849242983714672,-0.6244496449943486,-0.16339634346116438,-0.9889193894022047,0.18248691754424984,-0.224095435242258,0.773476334114118,-0.933169714691306,-0.8403671264211567,-0.15120537788129565,-0.5669141134591333,-0.6512885622134121,-0.10080940583191622,0.5948893562288419,0.5225178770342488,-0.6948113436271596,2.5134236593972936E-4,-0.08498840303887473,-0.8803218864027916,0.1300019738767107,-0.523490996902319,-0.1376892624392426,-0.2918634197311743,-0.6131613186311623,0.631392234995404,0.7000360327459012,-0.9087249680220224,0.38378314499624716,-1.0,-0.28122318568035215,-0.18893160920785856,0.8685729073736144,-0.015319025084658208,0.30462279534057507,0.7033247153387984,0.23449499088599426,-0.7773280064502819,-0.23008827487664613,-0.8831783611171088,-0.39298171114499436,-0.20064734424289105,0.2854360504165548,-0.4623032194844075,-0.6185843124999988,0.7183992602418476,-0.6714057599408696,0.047807956587589545,-0.8695980226303476,-0.03310670854218468,-0.8403205273758528,-0.9625764636758789,-0.950637328892494,0.15347173171124642,0.30643064984264107,0.20194996693892586,-0.8817497607759573,0.9329804742412092,-0.7714089043510532,0.24354454201992226,0.5156941594884247,0.2805950055067666,0.6493193859461384,-0.6360693995619292,-0.0646448412869561,-0.7736517672077285,0.4325554786692271,-0.7931198924770243,-0.5824933400835075,-0.4279147469418175,-0.20261878375894973,-0.20633956504151638,0.728915215094376,-0.9943134995179296,-0.8024669457351133,-0.18292780607555795,-0.8098894247526258,-0.6646507084725212,-0.1172337761917264,-0.3290823158641981,0.018583197612999532,-0.07077482843796126,-0.30963736790919755,-0.7617566762246838,0.35850389860575205,-0.3458583390707899,0.34689803091879723,-0.7081504896019818,0.3458726628899232,-0.37662616414724054,-0.442132829494553,-0.7304865110829513,-0.14583510451297604,0.9831744610129195,0.05067253877467497,-0.6274248397786327,-0.8624233032166467,0.9093013413446064,0.21872003904012244,-0.5576325753746474,-0.6328105027557824,-0.9284162627396534,0.6611902614268584,-0.807623276716243,0.9254833072080597,-0.22483903824685364,0.9396753601153097,-0.8107272030350782,0.06631516900779061,0.5115409666030714,0.23730077070170547,-0.875999779739684,-1.0,0.7669838074757421,-0.9360413926590708,0.9080891610687438,0.6049130650919589,-0.7162747416184596,-0.6991020808153752,0.350093022535947,0.05108714007471725,0.004222710256141245,0.9184244600064995,-0.6590903960592472,0.9283375271017333,0.2450593160662815,0.6879983773411248,-0.34825991794212724,0.7255666404601062,-0.520236585582388,-0.6563465429213374,0.31525022191571833,0.7857191271590802,-0.151966683708939,0.2468854702749998,-0.2902662202384233,0.9592183318850549,0.47924561347039846,-0.6434473125098474,-0.8449077283362799,-0.17975775092687116,0.23394209025518994,-0.5474768981059513,0.2259078830094155,0.07904162829140546,0.6370036017758243,-0.5634532227740701,-0.9137804989448283,-0.6945100081560424,-0.3950799043712387,-0.6500110193668668,-0.9466104048248504,0.57087725464387,0.28880682510888456,-0.29774614336920446,0.9540369449673842,0.09524297940609357,-0.6804888843430685,0.5574482968910673,0.08619721657049517,0.6822428107858196,0.45530174670113266,-0.37150759631390384,-0.7932710440420997,0.46517368542180715,0.939038531007547,-0.2778276763155614,-0.5421847125333727,-0.014467776974886088,-0.500313136347673,0.40304237772812146,-1.0,-0.7312026389271187,-0.04503015603367765,0.967727655088925,-0.8035697706169851,-0.9031259709599984,-0.08636235296341277,-0.9894941128351318,0.9668975235442661,-0.5205784438179205,0.5211526657668258,0.02496082025342028,0.6743647463363477,-0.7010047318285151,0.32772318503104597,0.20642941148253818,-0.8870822575648745,-0.6007358407209081,0.32522191215117907,-0.3354845514387412,0.9926312319766214,-0.5154350860097395,1.0,0.7834609861166215,0.38947593877762376,-0.146252914556619,-0.5340434228822086,0.9473411270250088,-0.8077372279506333,-0.5613661745819067,-0.13318433929421003,-1.0,0.9527326960955608,0.6510775986057302,0.9268807102067653,0.45418262898942835,0.571873243576084,-0.26021394670696446,0.45105794841926344,0.4374710393548961,0.7920528791722207,0.7748366082084892,-0.6364715160349671,0.8532733146251604,-0.4493434504552057,0.4739607121819487,-0.7211561212677884,0.6794105138657668,-0.6441202201304714,0.15518147018208733,-0.9025133769557916,-0.7354196981636276,1.0,0.10345860720732128,0.8046866741828315,-0.4364475746180013,0.5387072321257144,0.3411886821217642,0.6295897564901227,-1.0,0.33953584827891514,0.42805131029104965,-0.27296167462943116,-0.4559057464884827,-0.8955836008906195,0.49200673961605434,0.48214896130030316,0.9333106406152276,0.6039024329662306,0.4439420389957976,-0.18427816387947887,-0.6413867070520262,0.5143572842318014,0.6345099857952582,0.5048652471222577,0.5310144317275969,0.5910302987007532,-0.9061327002768769,0.2563201989820155,0.018864266619032267,-0.7753178420418276,0.7286712785245986,0.7779209819812667,-0.5540518359696536,0.4732648376002685,-0.4758949521784168,-0.2456544450142124,-0.3624988395918998,-0.0770977789296438,0.8431650800023837,0.012968319454621399,-0.6095357618090916,0.35054972348752766,0.585807387617329,-0.20311904944955933,0.5570500999504162,-0.8991859556706266,-0.3609128859125748,-1.0,0.08137795787690805,-0.9142723896414731,1.0,-0.29725054507145127,-0.3439916192658839,0.49331850738252464,0.8504222355516693,-0.4265424640505926,0.2588563870714613,0.782287034207067,0.2805981951567472,0.8073925071999033,-0.8694414543557423,-0.6676456293512623,-0.3011223746042029,0.6683385635850256,0.633069561675964,-0.8144140262878163,-0.4868925069845279,-0.7527175397656239,-0.4804053955740616,0.2255229432011578,-0.8591839142418549,0.18505238845728092,0.9040458846216721,-0.2767280649343807,0.43172675435862007,0.8838055863307966,0.7686299604082578,0.1009900672717183,-0.44444414167532165,-0.5998016338806251,-0.39054681226844806,-0.8617447541104756,-0.9400328537101666,0.9845317463033572,-0.5423619753516982,-0.8449029276737691,0.9725022071053416,-0.04560037666902327,-0.7850418920995575,0.7082132822974097,0.1317843627760442,-0.32748775222887355,0.33784149631084043,0.9663655327058085,0.05253372680499081,0.8279290608493851,0.71502188461786,0.8358743296166602,-0.8764837613691621,-0.4189610421194532,0.09174408285979735,0.34850996454002026,0.890505403352621,-0.9720385877580906,-0.3980244652785114,0.9562572599837739,-1.0,-0.24952538467304133,-0.1921330126984941,0.5541517968739144,-0.10327712557151933,-0.31116748931472493,0.6740523496159713,-0.40921309930932115,0.6663243836867554,0.45661718396082396,-0.6179822892023606,0.5665568257738484,-0.7274212053397618,0.7649281145170624,-0.8252453332950108,0.6976327116912497,-0.48575535195899844,-0.8994173391541769,0.9265352609415508,-0.039137675890390564,-0.22457779829739863,0.24833481409005476,0.7264327865317967,-0.202319423510667,0.6302807717781266,-0.6109276768596391,0.3911617489238786,0.9797961990819049,0.5604018628908208,1.0,0.45755217131971604,0.8582482379804294,-0.7779129597605037,-0.8690794157232029,0.8084034644936833,-0.9469354192219425,0.8370114943244757,0.5092081579057175,-0.4647231452483864,-0.010107564350202531,-0.5222792603561606,-0.6704981497827397,0.16425977959515417,0.33528992693441717,0.08135607673617998,-0.9659242757707416,-0.239594160411449,-0.9617928197669356,-0.4937997083844135,0.11393597519857915,-0.3451732892139802,0.7510932362544958,0.8677416968434092,-0.5532983153191926,0.07706289075643923,-0.4912898714571807,-0.872323683732425,-0.7939839619557738,-0.6527623859735983,0.5476279198909612,-0.5709761673708617,0.47375755351788607,0.3292478325467059,0.8055431583568488,0.25090620962943744,0.029225008718517326,-0.3875248575616054,-0.874836093340315,0.21782384540245095,0.31736674504303936,0.5989154093355556,1.0,-0.8483840202908502,-0.5735268522457583,0.5933481298489087,-0.4240634996695426,0.18610488906285366,-0.8189668278776228,0.9385574707040931,-0.5672344094000876,0.11437699228454547,0.45154226398804376,-0.38365173974193656,-0.07665105488517916,0.802956295305103,-0.8585083857897117,0.47314685240401994,-0.32145480203250937,0.053456155989545485,-0.574731500932837,0.6234557405907887,-0.34790551480383697,-0.3447651008732924,-0.6607874263844576,-0.5748011256459264,0.8849138284220875,-0.9021306244414585,-0.3104241740937052,0.5524038223675553,-0.9518158979032976,0.3976760224487391,-0.8801671079341825,-0.7813932707033003,-0.3998580641930599,0.7710050014310103,0.2626992123652348,0.7113248105040857,0.27024590613383176,-0.6570131791097203,-0.6430527657629741,0.6997207900638966,-0.9332460976224723,-0.3632133502141295,-0.27212734757375845,-0.9368461099524785,0.756281805416926,0.7307832827852875,0.09055761117991773,0.6212160768029947,0.975944264109962,-0.9525316872922646,0.5989494649443968,0.4114963094324257,-0.8949791483021297,0.45485845480248627,-0.2654214536912626,0.4963518028925473,0.45221892573286887,-0.08795333708595907,0.1789922127637159,0.25091883217886696,-0.1342579040195672,-0.26668892598860433,-0.08198513884633055,-0.23965462715230512,0.28505188559640776,-0.143065050981613,-0.4121751434875129,0.3099049612574719,0.12107094067968376,-0.43349680318312833,0.13247095920385432,0.207155201032265,0.37817455371512804,-0.40583410226946937,-0.44144460612170905};
		//weights->Set(w);

		double w[802] = {-0.5383318550524318, -0.552280780898518, 0.5276983290847641, -0.3066112027118247, 0.7601140723689316, 0.2613273651212995, -0.6152172848799514, 0.3594026057556143, 0.18829342385566694, -0.3535629745702894, -0.6978253282870222, 0.46293381063819194, -0.9811246974343053, 0.6347409579386409, 0.35872609628383084, -0.2591893879070061, 0.5405880711768117, -0.5160558633513765, 0.5281854640772115, -0.10469412617188575, -0.7147905940566235, -0.2664727583131597, 0.4020884850196755, 0.07702046824670346, 0.6798664014565856, -0.12107104671361825, -0.7579669177628928, 0.0980351580047083, 0.23888707131104994, -0.5254538601492579, -0.8300776817138755, 0.6379324666943706, -0.5449103883305176, 0.027675107339835508, 0.6780943695961322, -0.1281101371978856, 0.5588831613789372, -0.1035757141753926, -0.3958608357050433, 0.04401733030261983, 0.11567658225636106, 0.13240511673943545, 0.06375554360093712, -0.7336841406579317, -0.5702546804974951, 0.4910077697922703, 0.31791904227352563, -0.36752274443505384, 0.6031021470563094, 0.1702961688742622, -0.3148066077570187, 0.5291938695787837, 0.20962214676090798, 0.2897594326638796, 0.052345808123244186, -0.39836360236971113, 0.079229636706903, 0.7434466708134706, 0.0782252826768477, -0.24128248817007025, 0.5486728035803912, 0.03979400284011593, -0.4545042782882409, 0.3792648338045432, -0.5855355818279333, 0.3321685980730087, 0.7492403907965488, -0.3918795027436165, 0.3649995267251731, 0.2719406525479245, 0.06716875960155218, -0.8256755009242852, 0.5280995357405037, -0.7345392805408243, -0.18036395463866142, 0.49882872747503976, -0.4467469092508053, 0.2235058967399831, -0.1600987026578243, 0.45799081291294175, 0.5836730843453717, 0.2689509540097941, -0.6147960886876985, -0.5392411861817231, -0.782159104572294, -0.19957551475671245, 0.10671174072325304, -0.09752377611874939, 0.250734625273073, 0.10806985215846501, 0.5929787981873875, -0.19273152954251258, 0.4820289291456533, -0.3014721221823289, -0.44351938626823023, 0.7455132463817106, -0.1424173402018411, 0.7431466848516135, -0.3817944285201955, 0.42053820081942156, 0.589067122027214, -0.34037712281284777, -0.03570038593197733, -0.2517594490998846, 0.6823016360338803, -0.49766310572922606, 0.4760969332195333, -0.1255505746444162, -0.21147649969560525, -0.20621305680750981, 0.08435137352117474, 0.19827699320535003, 0.4107486125736667, -0.14180589186598153, -0.12872456205923208, 0.4275197676230251, -0.23166583910183172, 0.5074312419047085, -0.5424540851349111, 0.2740043981262733, -0.6477324120687324, 0.327904384154149, 0.254511906294912, 0.24613341524822244, 0.4659639003070413, -0.09218218835930497, -0.48426568409782167, 0.6003147020326636, 0.002148302416860731, -0.23150263640434812, -0.32606634493501996, 0.7765964570062197, -0.856727619865881, 0.46622111063311883, -0.20605602480421237, -0.11940423565349748, 0.320790401635523, -0.23034108066379777, -0.22498496344420227, 0.26285419530884135, -0.22765423159071616, -0.025790802796137345, 0.20561058116616612, 0.5953095623358828, 0.05992087642166086, 0.738722177115446, -0.520651425298088, 0.13587804231235118, 0.37736102697881385, 0.411967565721307, -0.698336292503434, 0.3081404696239311, -0.6835824356897298, 0.05665360737470885, 0.4297970204888235, 0.0962618933028054, 0.3880564954455318, -0.34245313581532705, -0.21299960662507456, 0.6075192289615983, -0.20795624789250838, -0.6083421998658239, 0.7003674686845501, -0.20142868639243527, 0.47588320990238336, 0.7093115325927437, 0.09026833377110219, 0.2403470879901057, 0.1659583574918496, 0.5782671476061807, -0.1496974301402885, 0.17837814023998447, -0.748969553561746, -0.2730903450826031, 0.7433287318507911, 0.7511784413929725, 0.4076505578022933, 0.15721362528702237, 0.6848472118031943, 0.1706724010978567, -0.14044537450295191, -0.23459363601069583, -0.555839427816674, -0.3368087469646092, -0.4655513059024259, 0.41186881594726904, 0.7265906775180335, 0.43320078777776005, 0.06470892287039487, 0.7919686937983208, 0.06432637706596395, -0.5497622003624976, 0.6017678348499241, -0.7574904639499973, -0.4121823696885173, 0.3656909006817629, -0.23210381492177587, 0.6900460207977954, -0.5326373178482666, 0.008758523038209176, 0.5086904458149657, -0.2857481382470794, -0.13798839794323198, 0.4867099214552539, 0.6072917353023333, 0.6023616020973535, -0.29879891858794677, 0.08140699261839106, 0.32541061216535433, -0.017361991460423852, -0.48883510013641684, 0.4809841460082451, -0.6536219499135508, -0.20934098845171384, -0.25426862098140524, -0.188418881341412, -0.653442931438816, -0.29424491483362203, 0.41710031315952795, 0.021992081320004103, 0.5547689699890661, -0.22671277066170537, 0.7315124824819704, -0.050823392562113934, -0.040703934454057886, 0.33985649684985036, -0.06451923934484953, 0.1306584205286753, -0.29490270504564253, 0.31415231270329375, 0.08240266523995858, -0.19043349112699154, 0.21216420965717472, 0.4310392080343928, -0.39075760131074594, 0.7112441110393165, -0.27748862614305325, 0.15075111495747479, 0.3995154538709077, 0.3567089866521549, 0.5601369383984567, -0.3113671282481116, -0.08926788478913911, -0.46722927441234924, -0.08858024931009678, 0.038134628848046644, 0.6052591340454977, -0.8039258819283217, -0.2554108497575035, 0.6074532085575002, 0.5616389123715371, -0.4451111953432648, 0.6790206211563542, -0.5921436457655905, -0.03707443085828534, -0.07213559033489514, -0.26756936064913683, 0.7500032452606502, -0.3370622685520735, 0.5574234452899258, 0.25294444461990545, -0.02479728326156752, -0.10932471235110022, 0.20404586731871208, 0.1867565539677653, 0.6781794341275043, -0.011181043777065525, 0.423369447279243, 0.4076968784504889, 0.4146102055140694, -0.3039137221039602, 0.27102119772808053, 0.44046699808623146, -0.04704687540421021, -0.5364428005272583, 0.6104141970475098, -0.3272183322594377, 0.0733448995383543, 0.6030639557549576, -0.28630298338615856, 0.4250361661057059, 0.07143148292673904, -0.07636497297660569, -0.014850558304858881, -0.04373007897637163, 0.24035085806885312, -0.10058295436975076, 0.7059570882600854, 0.2589111872933654, -0.246675164345634, 0.4662993553036461, -0.46527362963794455, 0.11294080787350053, -0.22472952623395448, -0.5279907846218286, -0.24133327841483995, -0.33173397377456415, -0.3575886206301659, -0.15160659998504053, 0.6109878288305547, 0.19311307658211047, -0.01149412833926887, 0.10105154388066985, -0.3891774530688502, -0.10564880756967096, -0.6470903296798626, 0.7411657525276245, 0.4508562331868079, 0.18466119441794354, 0.6668353048538621, 0.5760654299541685, 0.31479755950166904, 0.3237687703863059, -0.0993687849203463, -0.04795977728322446, -0.5187245237048488, -0.3865420208320528, -0.3713812845519714, -0.14367910610596446, -0.07783380312257442, -0.1918747356314594, -0.3171086772010022, -0.5445726891826106, -0.6384920865711261, -0.8305497961152835, 0.2044042998851627, -0.6298790139009793, -0.20162575060875618, 0.3013003089521654, 0.6280548094372739, 0.6159330597221845, 0.15369601765142654, 0.5262494266156428, -0.5849268285750147, -0.47072020632764566, 0.5510276715598651, 0.06915371505317522, 0.3289717949197142, -0.4984030864191481, -0.18228120752804727, 0.6499198327435038, -0.32613867396613405, -0.7297880759768022, -0.6422232421531628, 0.7513122306286519, 0.33441592467346254, -0.2703372729507677, -0.6170399396029794, 0.3786459050849683, 0.4680879953637229, 0.8541536590799846, -0.3054755199079123, 0.3652761663919859, -0.44947362245737577, 0.5435966351062156, 0.18587977017597054, 0.7239792414650086, -0.3956833607917441, 0.6836061099482615, -0.6725778366950231, -0.37403484457919356, -0.540291830654789, 0.2310021191589035, 0.7852668727018688, -0.6972394993023202, -0.5001820300306898, -0.4727189990146261, 0.12188550076433992, -0.6538455354527701, 0.41425476477374756, 0.4812357567937291, 0.215542201228056, 0.2968339325461691, 0.7508312925378514, 0.4814855573061628, 0.02390417577406239, 0.3925850315300465, 0.6663573112269198, 0.4523781195601761, -0.07506820337510546, 0.06902128796389748, 0.03464239145674231, 0.18045190421021726, 0.3895228344886337, -0.6117377425361262, 0.17536507010883678, 0.07618931094609738, 0.3127307086989658, -0.023557778622376666, 0.416968104565793, 0.47435151540329573, -0.6343480103409945, -0.17354039135784532, 0.280228850153523, -0.0343617810730462, 0.12403926385598747, -0.3028161471805021, 0.056769529258958396, -0.5637004774871543, -0.3709101738608866, -0.5930690142860204, -0.6334185324517032, -0.1274909009667742, 0.18588325704597758, -0.5508756582059898, 0.160436654198072, 0.3384088561362669, 0.01898643916941417, 0.43616296871188726, -0.548997764940457, 0.3752443371737512, 0.31402863861459446, -0.422733702426854, 0.4912376701680199, 0.14816032286762437, -0.019841593126018367, 0.4111161204176072, -0.05572758270961344, -0.5792316703674741, 0.37998162782332795, -0.05519606193244454, -0.11981013445423032, -0.09327995395321154, 0.04608062138227975, 0.6094147067726003, 0.3888529434573269, -0.3670069876633176, 0.34424189586857534, -0.6816188818709881, -0.173116765865359, 0.7939536758872792, 0.2991545207491393, -0.21049900421429452, 0.24058285719163153, -0.5464243191504656, -0.323194548480894, 0.06429757338321934, 0.02008753660114416, 0.17698742719682173, 0.2703221511458711, 0.3929004785539668, -0.1968580589291198, -0.4296500099519816, 0.3567440592112652, -0.08474349531507587, 0.20652192306009542, -0.12622027907692088, -0.23784227401919927, -0.2678222312280535, -0.6242618224640556, -0.5410828353698491, 0.7126870258106361, -0.6119050854746859, 0.23804853179158558, 0.6479360277115259, -0.2209304035533569, -0.41852151280808036, -0.8842389102975949, -0.6417435723601305, 0.40835221494314533, 0.7433803413555066, -0.7415529752120529, 0.42327524997360316, -0.6231103095065704, -0.3595527447611706, 0.032696144894802874, -0.6426129259673595, 0.8601629380191584, 0.007768524513201806, -0.26368422652500795, -0.6114562717162022, 0.02576497161191342, -0.5339429152332918, 0.05171225841397176, 0.41523933319539025, -0.5828340797854168, 0.3895152639897231, -0.03413273105257716, -0.3060532222284776, -0.34221091431699024, -0.4173675011770319, -0.21201797969506653, 0.2629032908278989, 0.12283739643774852, 0.36428256927909014, 0.13036312686607807, -0.27721786310600116, 0.16086608635473304, 0.2255226298971476, 0.007909289126781184, 0.5021660457506615, 0.415037568232726, 0.5482920209744673, -0.2539261106702882, -0.09023648172391488, -0.2683682068225596, 0.4477881830759557, -0.09977696754175264, 0.5830244173263238, 0.7781733970657748, 0.10561218618671381, -0.45861622738204816, -0.3627408696688536, 0.481792747331957, -0.3725432292531568, 0.2631324904173051, 0.051204929054195464, 0.5155745171063348, -0.02488649513763457, 0.5290328051453135, 0.5316102910912738, -0.09971896527036046, 0.2259990555327252, 0.26311348022496667, -0.555035227904403, -0.5546880277286544, -0.412390403242952, 0.28412704854417603, -0.29216405618543806, 0.0793428184213121, 0.10999005998451193, -0.1798804183167968, 0.7076901592273019, 0.1169754206858663, -0.22978214008361394, -0.24746109953147136, 0.006141005840368842, 0.1293328898116609, -0.08347071736435155, -0.37700659071116804, -0.3186396665739472, 0.31449685817936135, 0.017272955737746946, -0.19836197910834427, 0.18393873684563025, -0.3058959926867701, -0.11714890103393823, -0.4941533163919817, 0.8057510421497743, 0.36374966678285303, 0.04130749011727998, 0.201635378084519, 0.438392821403535, 0.43886130774753973, 0.04846634700404272, 0.8392518671032463, -0.1235396265414449, 0.12055338201836359, 0.3629283943750419, 0.1970292731886715, 0.499365238212004, 0.03760834184508824, -0.7067667033694884, -0.8066778342660229, -0.4308011312437481, 0.6020428812846846, 0.4389228879092982, -0.14690065818096876, 0.2897057855718504, -0.7042790053557328, 0.7711960881301384, -0.5379580022911087, -0.2018128356176155, -0.17081548714865574, -0.15596548066080065, 0.6923645473976351, 0.7329412080568354, 0.3092781873871654, 0.17125753372266633, 0.23179640434237497, 0.12834240056668503, 0.260577649067465, 0.4504445780380157, -0.6661376092946809, 0.6684539777999954, 0.2782521005741221, -0.01886432305287107, -0.3082769118488725, 0.01298601150971632, 0.5418238476737571, 0.5099998070238497, 0.22752667375316457, 0.0505523142611711, 0.5090374423690226, -0.3292736031794673, -0.3230405104657308, 0.4050418020558126, -0.38921352721361563, 0.16550032505691994, -0.18859508281856313, 0.4696079620831977, -0.26936492445412324, 0.7547446822543538, -0.02674412511694796, 0.2509172662436723, -0.15195463957719724, -0.4563459170144241, 0.19649751822540037, -0.7484346324719223, 0.5281316713069102, 0.059642604799649133, -0.10183825031109871, 0.3196694604939758, -0.7228020806363732, 0.4014057668468208, 0.13571636489573685, -0.7179817256201352, 0.6984352739288995, -0.42978698961527845, 0.04360343777661316, -0.4582036763332717, 0.6339192589726935, -0.7421864101456853, -0.4739676741243507, 0.42608754281285116, -0.08498947715535143, -0.45800073651985374, 0.6735049593072104, 0.7366425200567274, 0.4919459083228832, 0.5235640057145438, -0.054507538906969785, 0.009174386766226124, -0.15518218626709548, -0.01651326923950342, 0.4017098281695211, 0.5066411599538257, 0.4188426149804656, 0.5974539899812112, 0.20496235415209588, 0.7118949683045632, -0.07456744730669765, 0.2981010693998022, -0.5391596132738425, -0.37464448985747945, -0.2981451618793528, -0.4116303142623123, 0.08066968801191443, -0.6122587170664219, -0.05414807767891004, -0.022986969279620646, 0.23151855274455616, 0.5338098729671338, 0.09443937025151156, 0.23088169823880011, 0.3392633893736868, -0.3242540908112244, 0.5258111054534909, -0.6992941762214995, -0.8212171567084549, -0.27076450634608273, 0.5408692662468889, -0.3559313125122121, -0.2645021741924425, 0.015033748888017767, 0.588529576424986, -0.003661824841217201, -0.271972923713539, -0.07371117754659562, -0.05122139048384196, 0.10938462162693582, 0.28689122516400967, 0.7980127087116715, -0.32634840963090184, -0.43870940809331893, -0.266170947125545, -0.33611130430681146, -0.13156743099140422, -0.30851440179491946, 0.03226291431520979, -0.1917208596040377, 0.9237629827514386, 0.2496076912476085, -0.2027823789997876, -0.15003521281206336, -0.28120331293271106, 0.41330663972895476, 0.3814607200949667, -0.40413391701477747, 0.08787197178310624, -0.11694516483583751, 0.5602315695362242, -0.23222681328095726, 0.586875209231586, -0.09596273978228057, 0.6831374955374633, -0.028748474635337973, -0.23834071185402186, 0.4611044708188562, 0.3769481260134684, -0.4032044119890438, 0.1358420156495169, 0.7052862921983621, 0.11993612709787566, -0.8292062821834044, -0.49232316850491825, 0.46912970021418093, -0.24982463466920096, -0.2635900131072077, -0.21816770538609342, -0.6017913752498419, -0.10234448654688658, 0.20286650518501287, -0.21628550241440553, 0.7716247663481821, -0.30889063993582083, 0.2858643102593481, 0.20537498517765435, -0.16168970375041208, -0.2790597339250512, 0.17697677762986577, 0.6303354446007894, -0.3776040175714055, -0.5032022863154654, 0.6221294333661285, -0.4115094735406746, -0.007901429101264103, 0.6104140446967958, 0.3013899782450172, 0.18795265940376582, -0.7824111936254428, -0.6668783903893991, 0.3961140356523551, -0.4223861921399454, -0.7231279921829096, -0.3490329138930019, -0.03364568389282743, -0.43049818753263325, 0.22299863140783027, -0.23078517543847324, 0.6282434931905725, -0.6647969360969819, 0.2226017368504337, -0.6126383098968509, -0.2970454586873774, -0.6920391186233509, -0.2967455494705781, 0.46809945203663017, -0.18482379030560475, 0.34046120981755346, -0.16317396914649837, -0.5543167120786915, -0.143462352288587, -0.7206779396400764, -0.19549611490480462, 0.1817468766581421, 0.25482195379740286, -0.19187184143768626, -0.4521339439803542, -0.014460372671130484, -0.22710125017642036, 0.5707057332021709, -0.15855311029965513, -0.3227786458294303, 0.775923105528597, -0.10376273761315691, 0.11646602018295252, 0.6674337222110956, -0.4879508289089917, 0.09605982622753537, 0.41230074941499045, -0.2508907962967635, -0.33920649174680406, -0.49018898859565385, -0.23484940804286625, -0.3329891465351131, 0.6359330716724652, 0.5747638985144711, 0.1961132767159589, -0.13596061378560323, -0.16848130256709457, 0.29082665097375704, 0.11905731997275665, 0.3442894831393728, -0.3962858684614612, 0.17012880165642585, -0.17428010551863726, 0.3125031494214177, -0.08213187970204709, 0.23112885865275667, -0.2530727946637524, -0.07291300570878366, 0.3141882435490712, 0.3805472049946551, -0.23325334771666895, 0.2959319629859877, -0.2115014479690747, -0.37337327243018587, 0.007994250368682482, -0.03538779310455649, 0.011979805877338465, 0.126535303470749, -0.09651560690517694, 0.1769240619234447, -0.09769943665960668, -0.009291459193227476, -0.2016887888338025, 0.2518465996027534, -0.1390702321913963, 0.20500524242942736, -0.22688395977855375, 0.11680856563540001};

		ANNWeights* arbi = new ANNWeights({6, 10, 3}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w1 = new ANNWeights({17, 20, 2}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w2 = new ANNWeights({14, 20, 2}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w3 = new ANNWeights({11, 20, 2}, {false, true, false}, {false, true, true}, true);

		arbi->Randomize();
		//w1->Randomize();
		w1->Set(w);
		w2->Randomize();
		w3->Randomize();

		J1_S_Field::Configuration conf;
		conf.World = m_world;
		conf.TrainingMode = 2;
		//conf.ResourceSupplement = 0;
		m_scenemgr = new J1_S_Field(&conf, arbi, w1, w2, w3);
	}

	void Step(Settings* settings) {
		std::cout<<m_stepCount<<":   ";
		Test::Step(settings);

		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(40)<<"|"
					<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(41)<<"|"
						<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(42)<<" <----> ";
		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s1->IsActive()<<", "
					<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s2->IsActive()<<", "
						<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s3->IsActive()<<" <----> ";
		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetMode();
		std::cout<<std::endl;

//		for(int i = 10; i <18; i++) {
//			std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(i)<<", ";
//		}

		Draw();
		DrawCircleNest(b2Vec2(0,0), 16, b2Color(0.8f, 0.8f, 0.8f));

		/////////////////
		float time = m_stepCount /60.0f;
		char buffer[50];
		sprintf(buffer, "Replay : %6.2fs / 200.00s", time);
		DrawString(50,100,buffer);
		/////////////////

		std::cout<<std::endl;
	}

	/// Draw Nests.
	void DrawNest(float a) {
		m_debugDraw.DrawSegment(b2Vec2(-a, -a), b2Vec2(-a, a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(-a, a), b2Vec2(a, a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(a, a), b2Vec2(a, -a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(a, -a), b2Vec2(-a, -a),
				b2Color(0.8f, 0.8f, 0.8f));
	}
	void DrawCircleNest(const b2Vec2& center, float32 radius, const b2Color& color) {
		m_debugDraw.DrawCircle(center, radius, color);
	}

	static Test* Create() {
		return new Replay_a2Game_Sample;
	}

	void Draw() {
		b2Vec2 w_v[10];
//		//walls
//		w_v[3] = b2Vec2(-55, -55);
//		w_v[2] = b2Vec2(-50, -55);
//		w_v[1] = b2Vec2(-50, 55);
//		w_v[0] = b2Vec2(-55, 55);
//		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
//
//		w_v[3] = b2Vec2(-55, -55);
//		w_v[2] = b2Vec2(55, -55);
//		w_v[1] = b2Vec2(55, -50);
//		w_v[0] = b2Vec2(-55, -50);
//		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
//
//		w_v[3] = b2Vec2(55, -55);
//		w_v[2] = b2Vec2(55, 55);
//		w_v[1] = b2Vec2(50, 55);
//		w_v[0] = b2Vec2(50, -55);
//		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
//
//		w_v[3] = b2Vec2(55, 55);
//		w_v[2] = b2Vec2(-55, 55);
//		w_v[1] = b2Vec2(-55, 50);
//		w_v[0] = b2Vec2(55, 50);
//		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
//
//		//food area
//		w_v[3] = b2Vec2(50, 50);
//		w_v[2] = b2Vec2(-50, 50);
//		w_v[1] = b2Vec2(-50, -50);
//		w_v[0] = b2Vec2(50, -50);
//		DrawSolidPolygon(w_v, 4, b2Color(0.7, 0.7, 0.7));
//
//		//nest
//		w_v[3] = b2Vec2(12, 12);
//		w_v[2] = b2Vec2(-12, 12);
//		w_v[1] = b2Vec2(-12, -12);
//		w_v[0] = b2Vec2(12, -12);
//		DrawSolidPolygon(w_v, 4, b2Color(0.5, 0.5, 0.5));

		//robots
		for(auto robot : m_scenemgr->GetNodesByTag(MAKE_TAG('r', 'o', 'b', 'o'))) {
			if(robot->GetId()==0) {
			b2Body* bd1 = static_cast<J1_A_Robot*>(robot)->m_motor[0]->GetBody();
			w_v[0] = bd1->GetWorldPoint(b2Vec2(-0.25, -0.1));
			w_v[1] = bd1->GetWorldPoint(b2Vec2(0.25, -0.1));
			w_v[2] = bd1->GetWorldPoint(b2Vec2(0.25, 0.1));
			w_v[3] = bd1->GetWorldPoint(b2Vec2(-0.25, 0.1));
			DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
			b2Body* bd2 = static_cast<J1_A_Robot*>(robot)->m_motor[1]->GetBody();
			w_v[0] = bd2->GetWorldPoint(b2Vec2(-0.25, -0.1));
			w_v[1] = bd2->GetWorldPoint(b2Vec2(0.25, -0.1));
			w_v[2] = bd2->GetWorldPoint(b2Vec2(0.25, 0.1));
			w_v[3] = bd2->GetWorldPoint(b2Vec2(-0.25, 0.1));
			DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
			DrawSolidCircle(static_cast<J1_A_Robot*>(robot)->GetMainComponent()->GetPosition(), 0.5f, b2Color(0.4,0.6,0.8));

			///
			m_debugDraw.DrawCircle(static_cast<J1_A_Robot*>(robot)->GetMainComponent()->GetPosition(), 12.0f, b2Color(0.4,0.6,0.8));
			}
		}

//		//poison
//		for(auto poison : m_scenemgr->GetNodesByTag(MAKE_TAG('p', 'o', 'i', 's'))) {
//			auto col = b2Color(0.8, 0.17, 0.17);
//			DrawSolidCircle(static_cast<Block*>(poison)->GetPosition(), static_cast<Block*>(poison)->GetBody()->GetFixtureList()->GetShape()->m_radius, col);
//		}
//
//		//resource
//		for(auto resource : m_scenemgr->GetNodesByTag(MAKE_TAG('r', 'e', 's', 'o'))) {
//			auto col = b2Color(0.2, 0.52, 0.3);
//			DrawSolidCircle(static_cast<Block*>(resource)->GetPosition(), static_cast<Block*>(resource)->GetBody()->GetFixtureList()->GetShape()->m_radius, col);
//		}
	}
};


/////
/////
/////
void DrawSolidCircle(const b2Vec2& center, float32 radius, const b2Color& color)
{
	const float32 k_segments = 16.0f;
	const float32 k_increment = 2.0f * b2_pi / k_segments;
	float32 theta = 0.0f;
	glEnable(GL_BLEND);
	glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_TRIANGLE_FAN);
	for (int32 i = 0; i < k_segments; ++i)
	{
		b2Vec2 v = center + radius * b2Vec2(cosf(theta), sinf(theta));
		glVertex2f(v.x, v.y);
		theta += k_increment;
	}
	glEnd();
	glDisable(GL_BLEND);

	theta = 0.0f;
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_LINE_LOOP);
	for (int32 i = 0; i < k_segments; ++i)
	{
		b2Vec2 v = center + radius * b2Vec2(cosf(theta), sinf(theta));
		glVertex2f(v.x, v.y);
		theta += k_increment;
	}
	glEnd();
}

void DrawSolidPolygon(const b2Vec2* vertices, int32 vertexCount, const b2Color& color)
{
	glEnable(GL_BLEND);
	glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_TRIANGLE_FAN);
	for (int32 i = 0; i < vertexCount; ++i)
	{
		glVertex2f(vertices[i].x, vertices[i].y);
	}
	glEnd();
	glDisable(GL_BLEND);

	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_LINE_LOOP);
	for (int32 i = 0; i < vertexCount; ++i)
	{
		glVertex2f(vertices[i].x, vertices[i].y);
	}
	glEnd();
}

void DrawString(int x, int y, const char *string, ...)
{
	char buffer[128];

	va_list arg;
	va_start(arg, string);
	vsprintf(buffer, string, arg);
	va_end(arg);

	glMatrixMode(GL_PROJECTION);
	glPushMatrix();
	glLoadIdentity();
	int w = glutGet(GLUT_WINDOW_WIDTH);
	int h = glutGet(GLUT_WINDOW_HEIGHT);
	gluOrtho2D(0, w, h, 0);
	glMatrixMode(GL_MODELVIEW);
	glPushMatrix();
	glLoadIdentity();

	glColor3f(0.9f, 0.6f, 0.6f);
	glRasterPos2i(x, y);
	int32 length = (int32)strlen(buffer);
	for (int32 i = 0; i < length; ++i)
	{
		glutBitmapCharacter(GLUT_BITMAP_HELVETICA_18, buffer[i]);
	}

	glPopMatrix();
	glMatrixMode(GL_PROJECTION);
	glPopMatrix();
	glMatrixMode(GL_MODELVIEW);
}

void DrawString(const b2Vec2& p, const char *string, ...)
{
	char buffer[128];

	va_list arg;
	va_start(arg, string);
	vsprintf(buffer, string, arg);
	va_end(arg);

	glColor3f(0.5f, 0.9f, 0.5f);
	glRasterPos2f(p.x, p.y);

	int32 length = (int32)strlen(buffer);
	for (int32 i = 0; i < length; ++i)
	{
		glutBitmapCharacter(GLUT_BITMAP_8_BY_13, buffer[i]);
	}

	glPopMatrix();
}

void DrawSegment(const b2Vec2& p1, const b2Vec2& p2, const b2Color& color)
{
	glColor3f(color.r, color.g, color.b);
	glBegin(GL_LINES);
	glVertex2f(p1.x, p1.y);
	glVertex2f(p2.x, p2.y);
	glEnd();
}

#endif /* REPLAY_A2GAME_SAMPLE__H_ */
