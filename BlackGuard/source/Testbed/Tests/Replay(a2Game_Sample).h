/*
 * Replay(a2Game_Sample).h
 *
 *  Created on: Jan 14, 2015
 *      Author: wei
 */

#ifndef REPLAY_A2GAME_SAMPLE__H_
#define REPLAY_A2GAME_SAMPLE__H_

#include <iostream>
#include <fstream>

void Draw();

void DrawSolidCircle(const b2Vec2& center, float32 radius, const b2Color& color);
void DrawSolidPolygon(const b2Vec2* vertices, int32 vertexCount, const b2Color& color);
void DrawString(int x, int y, const char *string, ...);
void DrawString(const b2Vec2& p, const char *string, ...);
void DrawSegment(const b2Vec2& p1, const b2Vec2& p2, const b2Color& color);

class Replay_a2Game_Sample: public Test {
public:

	Replay_a2Game_Sample() {
		//ANNWeights* weights = new ANNWeights({28, 20, 2}, {false, true, false}, {false, true, true}, true);
		//double w[1022] = {-0.4873244263035567,-0.40969297562034185,0.626995703993289,-0.444796659668312,-0.7899800455565201,0.8736766279545828,0.4580253885225426,-0.06056890814411301,-0.5948597420972971,-0.4893092804463266,-0.2701345894532133,0.41640366993528083,-0.6493513729406757,-0.8158820312539312,-0.07863327325144873,0.4215481368363194,0.05544442965833595,-0.8989625148992914,0.7020458345275045,0.24132014811658467,-0.952883450358973,-1.0,-0.5099499039856011,-0.5982321849735655,-0.0294610067031216,0.7380217340165011,0.16052738527405877,-0.6466620807511079,-0.23542930174399185,-0.6474394912285513,0.5060978685749865,0.21726789648843078,-0.9962959430230297,-0.4925286059998317,-1.0,0.29925132305122765,0.8582353239996464,-0.3981449980810854,-0.35492443801277285,-0.5334943211557323,-0.6350751818336741,0.17436891524451234,-0.9276094038521541,-0.21986231323514607,0.8952417211010856,-0.9141464117500623,-0.8116058502822119,0.5581049861483893,0.917468131554947,-0.06849048962037549,0.8385684132482175,0.6134083215498289,0.9511640776663551,0.2959081206701984,-0.3792091385171724,0.0855445108084679,-0.5995057101727902,-0.587673786920829,-1.0,-0.6712203075176579,-0.46794545601971654,-0.20481316591360404,0.4483965473489015,-0.23044041729575435,0.006229270986616632,-0.5804268597986953,0.872694079510472,-0.3800520717546859,-0.7203943860336967,-0.8442840005655328,0.46224869187083906,0.9516914393094948,0.39984717669454745,0.035779641696471076,-0.25168452622500576,0.06822056821864755,-0.021310953130742796,0.9573793350862538,0.5516516672204447,-0.0681604953894788,-0.4337779234161526,0.3764727485286701,-0.26148937268604316,-0.026328492187601336,-0.5867174549404325,-0.02282551066840619,0.6263503885651492,0.05943389019051667,-0.8360728795504113,-0.6015934443685063,0.7920813179285795,0.8628276284198159,-0.6536820103162487,0.4065090904062431,-0.9318467177455138,0.16024309781626467,-0.06988857874561549,0.8675482569899586,-0.8812764162566696,-0.2814910305301076,0.2493034217398467,-0.5588277191430319,0.6741876066379634,1.0,-0.6269168176949598,0.6369144237621115,0.8824682712806174,-0.20167216951205624,0.26488868526270726,-0.0672814530112487,0.4563989010303182,-0.36600523089879317,0.6892476822207071,0.34664219040387884,0.18556139834264196,0.06691304136619175,0.15743532444992536,-0.7681896832333036,0.6963103357854179,0.7070103862677266,0.1317424836993824,0.6045885104155306,0.1297818516470838,0.42618098203089727,0.951336182288957,0.4152238762378574,-0.3554433205500258,-0.6909816711160586,-0.801207621866514,-0.05405515284527229,0.9775495005262115,0.2699326511383923,-0.06449335166208561,-0.25773378788914836,-0.8786150200545709,0.8444199690777984,-0.29980552108801256,-0.6525058730171349,-0.8428206244968656,-0.8228501633887262,-0.1812455474804309,0.2106174650203682,0.2845169403837528,-0.29919665501628834,-0.39512151771636506,0.6734429472552959,-0.1641855223263842,0.9222722095612251,0.5391059481252721,-0.29752262302609206,-0.03005219884467741,0.1831755944939431,-0.33717399755229904,-0.7469022812773372,-0.8741731900437224,0.07926428100682313,0.8534536038676456,-0.19296582683495714,-0.9080457970315363,0.9306649792366364,-0.7162926974598187,0.7712691941431743,0.09213538138525809,0.2871752948244658,-0.5109334971747477,0.5691955726055271,-0.5416081110942441,0.8526874777911627,0.0022881439278753316,0.41380043265441097,-0.8999658123164958,0.2791977556411524,0.6431250374503491,-0.37598916026188994,0.584118784254184,-0.6060858813026544,-0.9994053480340468,0.8645225027734291,0.20562378815413415,-0.015881030535065167,-0.8404220494497837,-0.4620250556412699,-0.7134782734019984,-0.8839001085509541,-0.11318835307393822,0.14067036737136324,-0.6810787283995825,0.8966555210831497,0.06225540822555461,0.8091359459583436,-0.44400768926980083,0.9383608118342273,-0.3529541959048816,0.3946176595465136,-0.341899904575603,0.576930590460849,0.011002974117168296,0.722072759373334,-0.6221004984649495,-0.030748283768091904,-0.38572573636649804,0.8500585449520413,0.5063641847992754,0.48552929720326043,-0.09765986909921191,0.23751794185344788,0.40443459096674367,-0.6878033294185661,-0.5724882126323555,0.34582087108054277,0.9651927970663172,0.1501783025775733,0.11312687637050013,0.18449576606797938,0.47570751898229163,0.6882888813123813,-0.7827597258542704,-0.18276960163784822,-0.8167239767802175,0.2974365578315067,0.024179531926968947,-0.21682662870369435,-0.8320754984290976,-0.45474501911140164,-0.03667397498474575,-0.9651379170319901,0.03785361139058962,-0.7118775372207028,-0.1895781239569453,-0.5418612735077316,-0.1458389844022974,0.2817116112258567,-0.7221074643484036,-0.1861204810925,0.4701007693661941,-0.20524410974703153,0.37629307527210143,0.39629323772737074,0.6877772913393896,0.12510685655482942,0.9688650917553197,-0.9874576409189756,0.08984532491312786,0.6737031300960739,-0.9889211486194344,0.012270293148085146,-0.13463178257869204,-0.3612013649330403,-0.1691729721078969,-0.1326668875254825,-0.6004237553721794,-0.21695892102087516,0.503331656244068,0.8490588777071725,-0.8749443289493876,-0.7569200213233632,-0.5859730267951738,-0.1915322287153798,0.42776599287863326,0.8620752577983415,0.7577351713241942,-0.9066160018521013,-0.28886310037945934,-0.3085226632596356,0.7659306513101032,0.6162078544681406,0.06004456440784073,0.4495489018280061,-0.17793484996233216,-0.5324589010336602,0.7282658522311084,-0.09303696523753335,-0.0684531135066021,0.05969099115474507,0.9101325645332392,0.4175313422547428,-0.042054853241638594,0.47382499246395793,0.2975614207278684,-0.2823053038542917,0.1574779603284683,0.23503337242553546,1.0,-0.7318955781475702,0.10978440859964908,-0.5011876421654385,0.886732299381995,0.7025555404884068,0.024696926211467733,-0.9681065741600875,-0.4996877916935367,-0.7039196188905313,0.7070831458788455,-0.8246458361134383,0.9348920469449059,-0.10781680917902703,0.6013663650290495,0.8433229322716583,0.7771775032265452,0.8496079531648795,0.0568022473421939,-0.011423545612189709,0.7675163360662659,0.4804069899690084,-0.5594725430500077,0.9656742021597253,-0.7698148726827443,0.3097835581409541,-0.9149749594943943,-0.10824913014479046,-0.18178971420899992,-0.314446830775646,-0.9870562045166429,0.7333876131743108,0.667087540502856,0.8027562967107538,-0.7667768585397676,-0.4243858115610938,0.10951641386004102,0.4310164951734654,-0.692903689760401,0.7459172189648462,0.963612698034154,-0.9003330404496536,-0.7821888190691634,-0.7641054070735099,0.9402996475608401,0.4192648238705591,-0.6530021812241323,-0.9761914903242997,-0.7008410000164744,-0.047678213219094094,0.9575207320850474,-0.8903196782134294,0.4682782087792823,-0.6673468358017081,0.8757959989942684,0.8555044981291057,0.851313058057321,0.4954106520364498,0.9110119500979122,-0.9683692774771009,-0.43461040830013586,0.5083808174549335,-0.5198606463912147,0.38576992875624194,-0.1810386200430187,-0.11111275280086864,0.8271833563562977,-0.03814218068178318,-0.39847503761662584,-0.36032505278697896,0.17673036290253238,-0.37865286336130544,0.6377856380369807,0.18299995260718963,-0.6194702776397353,0.9747246751882932,-0.23620331303904446,0.8808558184683237,0.9931821025122861,0.35119664254649907,-0.6771201647648009,-0.49786262024159306,0.010655027802449852,-0.8722028041392712,0.14924344616781154,0.9404431068223508,-0.9285969544784837,-0.6235512302947017,0.24253861560344359,0.9539359706631757,0.19041825520991273,0.26977275849017446,0.4331347587006158,-0.8047883685803309,0.7259889366660692,-0.6013523612598256,-7.932032075873563E-4,-0.359392658569452,-0.6202431494847053,-0.30612454103206643,-0.5758023888633695,-0.6713485904759756,-0.07138693459701645,1.0,-0.25542671373000614,0.011018936503862146,-0.4601189244850626,0.012237717797765033,-0.5258738684203242,0.20318856371569244,0.06763831140938797,-0.6330193558477243,0.48284449318814276,-0.7999737266399766,-0.8219914734879938,0.46069934439456595,0.7057231019982692,0.14576787387496876,-0.8258475312276808,-0.7955978003375909,0.866334224548512,-0.35081082444772044,0.944922717784959,0.36508273062395136,0.1952982786785755,0.2812078567420803,0.040704694797929396,-0.8276748850386583,-0.803703848017248,-0.058706776445995805,-0.7159675664653492,0.1578902000740282,0.1682816534001583,-0.9000650898374131,0.5532994263944089,0.9073204983017784,0.3057561954249107,-0.7749913021404619,0.20874897760055636,-0.8256360874723951,-0.00791048036740048,0.3514975196370224,-0.5064704256253284,-0.801119443767361,0.22511959924601424,0.04418101932077091,0.9279708629372891,-1.0,-0.9620182455227155,-0.6333763266101609,0.2408063152546799,-0.3817104341495288,-0.72770542878742,-0.588013442714058,-0.27680799780292314,-0.5421551153096041,0.640703395329665,-0.8146109957408694,0.437626539674187,-0.32116569237413756,0.7804823672771273,-0.15657708307958135,-0.9965246112996847,0.4789020927294467,0.15203511724078755,0.19593762828944342,-0.1478038028744533,-0.9621305500480469,0.8613066917412834,0.6350841726185127,-0.0919289627758481,0.08937880298647925,0.4382073126153679,-0.9135083798052144,0.8548123805667204,-0.5848448398360039,-0.0711136821323442,-0.322223990401183,0.7956009575496487,0.7421072250564565,0.44894062602344553,-0.19867518067490997,-0.44341262204220616,-0.24447507108449518,-0.8932368556934775,-1.0,-0.1790054204817946,-0.5532689794031646,-0.5072002957936574,-0.721715154745261,-0.17085121132701028,-0.6159858906101294,-0.9629193946988068,0.557880295539769,-0.523401425991804,0.21454098865843235,-0.8633636809091374,-0.5325017956850299,-0.1500197486613609,0.4837325204582096,0.465009892347771,-0.4015302862119111,0.9448200196948783,-0.3911642491603697,0.28977535692035056,0.5197899377534485,0.8275758675084011,-0.49784649729916775,0.43757132198584653,-0.004393064041661912,0.4134598722016368,0.18238720048169335,0.5478937669690642,-0.7390835687759241,-0.08297337160848302,0.01753343853048347,-0.35127911905330345,-0.36000102880926466,-0.43202239430405803,0.16185506302803357,-0.030300259427749714,-0.3925048468039726,-0.5264281600568232,-0.41651686544780525,-0.4148305961593916,0.06616825557905807,-0.2560225068122965,-0.37190055667129357,-0.6801535717709098,-0.6235240298354046,-0.11253162663165167,-0.5464339719443765,0.7510877542777835,0.6878242641403672,-0.31690350666181755,-0.1051957297323835,-0.7957603581713344,0.8103776049346135,-0.5695437403427456,-0.0796848631062432,0.36577871666590484,-0.7336467569122013,0.39799928210047425,0.2519685792198122,-0.3765370075402302,-1.0,-0.2653327675757908,-0.34877724392907655,0.795522378437765,0.703295638619837,-0.46217094244469376,-0.6641461267341304,-0.8418304385913185,-0.25660079612009784,-0.3263618283961268,-0.6960362206443231,-0.751984977677846,-0.9644239638858616,0.06314581805668276,-0.6912937925631428,-0.9196393971317969,0.8963330375836029,0.7916026178043944,0.759838318000988,-0.9423873906266058,0.9064688294107023,0.8290408964246249,0.008849242983714672,-0.6244496449943486,-0.16339634346116438,-0.9889193894022047,0.18248691754424984,-0.224095435242258,0.773476334114118,-0.933169714691306,-0.8403671264211567,-0.15120537788129565,-0.5669141134591333,-0.6512885622134121,-0.10080940583191622,0.5948893562288419,0.5225178770342488,-0.6948113436271596,2.5134236593972936E-4,-0.08498840303887473,-0.8803218864027916,0.1300019738767107,-0.523490996902319,-0.1376892624392426,-0.2918634197311743,-0.6131613186311623,0.631392234995404,0.7000360327459012,-0.9087249680220224,0.38378314499624716,-1.0,-0.28122318568035215,-0.18893160920785856,0.8685729073736144,-0.015319025084658208,0.30462279534057507,0.7033247153387984,0.23449499088599426,-0.7773280064502819,-0.23008827487664613,-0.8831783611171088,-0.39298171114499436,-0.20064734424289105,0.2854360504165548,-0.4623032194844075,-0.6185843124999988,0.7183992602418476,-0.6714057599408696,0.047807956587589545,-0.8695980226303476,-0.03310670854218468,-0.8403205273758528,-0.9625764636758789,-0.950637328892494,0.15347173171124642,0.30643064984264107,0.20194996693892586,-0.8817497607759573,0.9329804742412092,-0.7714089043510532,0.24354454201992226,0.5156941594884247,0.2805950055067666,0.6493193859461384,-0.6360693995619292,-0.0646448412869561,-0.7736517672077285,0.4325554786692271,-0.7931198924770243,-0.5824933400835075,-0.4279147469418175,-0.20261878375894973,-0.20633956504151638,0.728915215094376,-0.9943134995179296,-0.8024669457351133,-0.18292780607555795,-0.8098894247526258,-0.6646507084725212,-0.1172337761917264,-0.3290823158641981,0.018583197612999532,-0.07077482843796126,-0.30963736790919755,-0.7617566762246838,0.35850389860575205,-0.3458583390707899,0.34689803091879723,-0.7081504896019818,0.3458726628899232,-0.37662616414724054,-0.442132829494553,-0.7304865110829513,-0.14583510451297604,0.9831744610129195,0.05067253877467497,-0.6274248397786327,-0.8624233032166467,0.9093013413446064,0.21872003904012244,-0.5576325753746474,-0.6328105027557824,-0.9284162627396534,0.6611902614268584,-0.807623276716243,0.9254833072080597,-0.22483903824685364,0.9396753601153097,-0.8107272030350782,0.06631516900779061,0.5115409666030714,0.23730077070170547,-0.875999779739684,-1.0,0.7669838074757421,-0.9360413926590708,0.9080891610687438,0.6049130650919589,-0.7162747416184596,-0.6991020808153752,0.350093022535947,0.05108714007471725,0.004222710256141245,0.9184244600064995,-0.6590903960592472,0.9283375271017333,0.2450593160662815,0.6879983773411248,-0.34825991794212724,0.7255666404601062,-0.520236585582388,-0.6563465429213374,0.31525022191571833,0.7857191271590802,-0.151966683708939,0.2468854702749998,-0.2902662202384233,0.9592183318850549,0.47924561347039846,-0.6434473125098474,-0.8449077283362799,-0.17975775092687116,0.23394209025518994,-0.5474768981059513,0.2259078830094155,0.07904162829140546,0.6370036017758243,-0.5634532227740701,-0.9137804989448283,-0.6945100081560424,-0.3950799043712387,-0.6500110193668668,-0.9466104048248504,0.57087725464387,0.28880682510888456,-0.29774614336920446,0.9540369449673842,0.09524297940609357,-0.6804888843430685,0.5574482968910673,0.08619721657049517,0.6822428107858196,0.45530174670113266,-0.37150759631390384,-0.7932710440420997,0.46517368542180715,0.939038531007547,-0.2778276763155614,-0.5421847125333727,-0.014467776974886088,-0.500313136347673,0.40304237772812146,-1.0,-0.7312026389271187,-0.04503015603367765,0.967727655088925,-0.8035697706169851,-0.9031259709599984,-0.08636235296341277,-0.9894941128351318,0.9668975235442661,-0.5205784438179205,0.5211526657668258,0.02496082025342028,0.6743647463363477,-0.7010047318285151,0.32772318503104597,0.20642941148253818,-0.8870822575648745,-0.6007358407209081,0.32522191215117907,-0.3354845514387412,0.9926312319766214,-0.5154350860097395,1.0,0.7834609861166215,0.38947593877762376,-0.146252914556619,-0.5340434228822086,0.9473411270250088,-0.8077372279506333,-0.5613661745819067,-0.13318433929421003,-1.0,0.9527326960955608,0.6510775986057302,0.9268807102067653,0.45418262898942835,0.571873243576084,-0.26021394670696446,0.45105794841926344,0.4374710393548961,0.7920528791722207,0.7748366082084892,-0.6364715160349671,0.8532733146251604,-0.4493434504552057,0.4739607121819487,-0.7211561212677884,0.6794105138657668,-0.6441202201304714,0.15518147018208733,-0.9025133769557916,-0.7354196981636276,1.0,0.10345860720732128,0.8046866741828315,-0.4364475746180013,0.5387072321257144,0.3411886821217642,0.6295897564901227,-1.0,0.33953584827891514,0.42805131029104965,-0.27296167462943116,-0.4559057464884827,-0.8955836008906195,0.49200673961605434,0.48214896130030316,0.9333106406152276,0.6039024329662306,0.4439420389957976,-0.18427816387947887,-0.6413867070520262,0.5143572842318014,0.6345099857952582,0.5048652471222577,0.5310144317275969,0.5910302987007532,-0.9061327002768769,0.2563201989820155,0.018864266619032267,-0.7753178420418276,0.7286712785245986,0.7779209819812667,-0.5540518359696536,0.4732648376002685,-0.4758949521784168,-0.2456544450142124,-0.3624988395918998,-0.0770977789296438,0.8431650800023837,0.012968319454621399,-0.6095357618090916,0.35054972348752766,0.585807387617329,-0.20311904944955933,0.5570500999504162,-0.8991859556706266,-0.3609128859125748,-1.0,0.08137795787690805,-0.9142723896414731,1.0,-0.29725054507145127,-0.3439916192658839,0.49331850738252464,0.8504222355516693,-0.4265424640505926,0.2588563870714613,0.782287034207067,0.2805981951567472,0.8073925071999033,-0.8694414543557423,-0.6676456293512623,-0.3011223746042029,0.6683385635850256,0.633069561675964,-0.8144140262878163,-0.4868925069845279,-0.7527175397656239,-0.4804053955740616,0.2255229432011578,-0.8591839142418549,0.18505238845728092,0.9040458846216721,-0.2767280649343807,0.43172675435862007,0.8838055863307966,0.7686299604082578,0.1009900672717183,-0.44444414167532165,-0.5998016338806251,-0.39054681226844806,-0.8617447541104756,-0.9400328537101666,0.9845317463033572,-0.5423619753516982,-0.8449029276737691,0.9725022071053416,-0.04560037666902327,-0.7850418920995575,0.7082132822974097,0.1317843627760442,-0.32748775222887355,0.33784149631084043,0.9663655327058085,0.05253372680499081,0.8279290608493851,0.71502188461786,0.8358743296166602,-0.8764837613691621,-0.4189610421194532,0.09174408285979735,0.34850996454002026,0.890505403352621,-0.9720385877580906,-0.3980244652785114,0.9562572599837739,-1.0,-0.24952538467304133,-0.1921330126984941,0.5541517968739144,-0.10327712557151933,-0.31116748931472493,0.6740523496159713,-0.40921309930932115,0.6663243836867554,0.45661718396082396,-0.6179822892023606,0.5665568257738484,-0.7274212053397618,0.7649281145170624,-0.8252453332950108,0.6976327116912497,-0.48575535195899844,-0.8994173391541769,0.9265352609415508,-0.039137675890390564,-0.22457779829739863,0.24833481409005476,0.7264327865317967,-0.202319423510667,0.6302807717781266,-0.6109276768596391,0.3911617489238786,0.9797961990819049,0.5604018628908208,1.0,0.45755217131971604,0.8582482379804294,-0.7779129597605037,-0.8690794157232029,0.8084034644936833,-0.9469354192219425,0.8370114943244757,0.5092081579057175,-0.4647231452483864,-0.010107564350202531,-0.5222792603561606,-0.6704981497827397,0.16425977959515417,0.33528992693441717,0.08135607673617998,-0.9659242757707416,-0.239594160411449,-0.9617928197669356,-0.4937997083844135,0.11393597519857915,-0.3451732892139802,0.7510932362544958,0.8677416968434092,-0.5532983153191926,0.07706289075643923,-0.4912898714571807,-0.872323683732425,-0.7939839619557738,-0.6527623859735983,0.5476279198909612,-0.5709761673708617,0.47375755351788607,0.3292478325467059,0.8055431583568488,0.25090620962943744,0.029225008718517326,-0.3875248575616054,-0.874836093340315,0.21782384540245095,0.31736674504303936,0.5989154093355556,1.0,-0.8483840202908502,-0.5735268522457583,0.5933481298489087,-0.4240634996695426,0.18610488906285366,-0.8189668278776228,0.9385574707040931,-0.5672344094000876,0.11437699228454547,0.45154226398804376,-0.38365173974193656,-0.07665105488517916,0.802956295305103,-0.8585083857897117,0.47314685240401994,-0.32145480203250937,0.053456155989545485,-0.574731500932837,0.6234557405907887,-0.34790551480383697,-0.3447651008732924,-0.6607874263844576,-0.5748011256459264,0.8849138284220875,-0.9021306244414585,-0.3104241740937052,0.5524038223675553,-0.9518158979032976,0.3976760224487391,-0.8801671079341825,-0.7813932707033003,-0.3998580641930599,0.7710050014310103,0.2626992123652348,0.7113248105040857,0.27024590613383176,-0.6570131791097203,-0.6430527657629741,0.6997207900638966,-0.9332460976224723,-0.3632133502141295,-0.27212734757375845,-0.9368461099524785,0.756281805416926,0.7307832827852875,0.09055761117991773,0.6212160768029947,0.975944264109962,-0.9525316872922646,0.5989494649443968,0.4114963094324257,-0.8949791483021297,0.45485845480248627,-0.2654214536912626,0.4963518028925473,0.45221892573286887,-0.08795333708595907,0.1789922127637159,0.25091883217886696,-0.1342579040195672,-0.26668892598860433,-0.08198513884633055,-0.23965462715230512,0.28505188559640776,-0.143065050981613,-0.4121751434875129,0.3099049612574719,0.12107094067968376,-0.43349680318312833,0.13247095920385432,0.207155201032265,0.37817455371512804,-0.40583410226946937,-0.44144460612170905};
		//weights->Set(w);

		double w[802] = {-0.5942555537371179, 0.7998932084489899, 0.2888983484613372, 0.5754790438132298, 0.31812751261256694, -0.6637881068720812, 0.6044479942901289, -0.12880887188380868, -0.6487646482904349, 0.38714350884346077, 0.3156435150044973, 0.5509223979018136, -0.17169862818473403, -0.07471388151202148, -0.8669541128182361, 0.6432345769706651, -0.030978320035773485, 0.25343511717990996, 0.003271133448599889, 0.3889364087812531, -0.3234911749718129, 0.5891235427632326, 0.36619569401718877, -0.12915325024281354, -0.47658153168975337, -0.6337667629391721, 0.6436794358868796, -0.3892582767511307, 0.19911155311850168, 0.639007651335752, 0.6128289326907504, -0.35647459987915503, 0.21760810325947255, -0.09398970985695923, -0.624819718896506, 0.6171060577806511, -0.7169036344701001, 0.144071427528772, -0.03074208983695524, 0.7193317670853526, 0.30285481358409444, 0.2848607709704355, -0.05690578035630563, -0.34822281676431366, -0.7985042000700071, -0.04394591960630108, 0.06931456335914392, 0.6840331729944896, 0.4034627848951821, 0.49426789977106383, -0.6191065421752812, -0.020577667055854926, -0.3894317642323761, -0.36393750932105823, 0.7439371743366261, -0.13235344767941673, -0.8713448733955702, -0.44809141927787455, -0.31992409726741905, -0.2188051222356236, 0.09787894025702742, -0.2746521351125195, -0.8559611394380673, -0.21300331753078344, -0.40892600932453516, 0.5107983744266443, 0.11040340781502586, -0.31319840537164323, 0.20055056205207974, -0.2803273304359703, -0.25402054614740305, 0.41729103319142336, -0.21184681511415043, -0.06303132551709606, 0.4766733780596875, -0.5200051885978236, 0.46140068814684554, -0.667364952142412, 0.2485281363291384, 0.06402813640863063, 0.5350772549831604, -0.6017737033657288, -0.2821005997708669, -0.581745745937186, 0.4261798024828354, 0.28308724698037596, -0.185865375239641, -0.6588846455260972, -0.27340432631984735, -0.5546589980722273, -0.05843031713380317, -0.06067064124523883, 0.24653938383472745, -0.12703797961037766, -0.32097561885522347, -0.31191459287023154, -0.014273905860114181, 0.03876662009007242, 0.3277297692768174, -0.7477696337851468, 0.47768779333228256, 0.392923674872681, -0.10739652985630822, -0.16653184695217177, 0.3426796025554813, 0.5172037948850993, -0.5642784947268901, 0.6149677691322591, 0.3506943335674052, -0.3776750393046059, -0.1965244541651513, 0.15708812686175352, 0.23066267689558548, -0.3582339442360612, -0.1611374825662652, -0.35318092597200706, 0.5394372263263624, 0.2003859864632615, -0.21616187250307767, 0.13552784218013647, -0.3796699061569175, 0.5750277974562823, -0.3662165672025051, 0.3315845118963254, 0.28058563245451335, -0.6259178954843828, 0.7076178379212672, 0.38496651922753916, 0.0373969700972641, 0.26983499184851856, 0.5538828670276293, -0.5935878197707615, -0.08317049862551787, -0.5698228029010806, -0.4279436910570342, -0.029610198491504924, -0.026896883522249726, 0.3922301657198613, -0.2660670966848423, 0.31795158451308053, -0.6946655103625782, 0.757884767280623, 0.3681083533552664, 0.41241815938173676, -0.16603191973799966, -0.3495676549688572, 0.7554768074768041, -0.682803628387677, -0.41013520412297183, 0.4812835262014128, 0.820966685485924, -0.7438307029767484, -0.5462353915559819, -0.28747567099160354, -0.4449216823791903, 0.7732061226285274, -0.1659388366786012, -0.013651229885893616, 0.4495322554229564, 0.729712983319321, -0.09985049010886132, -0.26945726791133295, -0.37272171959524025, -0.5211134236176609, 0.5876683853955206, -0.4840616412313654, 0.10969101889460409, -0.6170070604266459, 0.5506766730646436, 0.7783654724421895, 0.7506036003984944, -0.579534696070978, -0.7107999984488573, -0.4411492792377727, -0.615037901708287, -0.4140505393085625, 0.5904449207925027, -0.6752658738556822, 0.7997398263195842, 0.27711449450363956, 0.37544962642092705, -0.8225973517859797, -0.5079077983438377, -0.09178234873748649, 0.1916748312361571, 0.5949564044662581, -0.6227630828908778, 0.3167460576659047, 0.591213997772776, -0.7812864679948075, -0.36433522005936675, 0.44713107166597144, -0.26611525529656044, -0.6435848926709068, 0.3441930088366394, -0.27083048588343495, 0.3026901135546584, 0.5168397054571652, 0.20276706436260716, 0.08602650888980959, -0.08754275257662124, 0.5678558817632581, -0.6051179213221439, -0.6863922786645689, 0.8525989809640518, 0.14624393223177734, 0.3784956275778067, 0.42633307872170284, 0.01199990801402603, -0.623582268193663, 0.25818695521145046, -0.7327729289061322, 0.2524502364519339, -0.4457611994256925, -0.27142928456013865, -0.8344342068039525, 0.5702405541223328, 0.09366026397704001, 0.7621606439998418, 0.556244195416005, -0.7650548862176564, 0.5057569972672112, 0.3602277034869496, 0.6046665629731677, -0.15489431673766701, -0.2278621161511445, -0.2350915178669171, -0.2887292838604063, -0.5226033666874574, -0.0638025523114274, -0.07351298578162824, 0.15637160561132585, -0.10600201792968461, 0.10440930541110507, 0.43003463535594894, -0.10929144407733817, -0.3255794615910107, -0.0015300324260672654, -0.16230627281560192, -0.49514024255120964, 0.7570993719415063, -0.6163683609629823, 0.03970388152728051, -0.6652133418046399, -0.20822417481200153, 0.33757142097537, -0.7947218772509277, 0.4499913365580454, 0.22831693660954372, -0.8256698430390976, -0.8824427826300207, -0.6228113432769374, 0.19526565051638334, -0.2144640963675685, 0.40801057746037767, 0.3636497710500115, -0.11057652987153738, 0.024401116162768306, 0.046037865000994854, -0.3034057237984117, -0.2534952594966987, 0.6048437527460427, 0.15095133416236384, 0.21955601526767976, 0.2440407779656253, -0.35164914497194055, -0.098972320578923, 0.0859358406869981, 0.03096667705721956, -0.09006624866826286, -0.3563639299370235, -0.3182175232254285, 0.4597608628892861, -0.2169626031005891, 0.21406459648881798, -0.6881370257901662, 0.6580533066946891, -0.03940870330214878, 0.6937381581911749, -0.10346142859405479, 0.21106621474670012, -0.6263048408723171, -0.445667107661584, -0.3553707146284994, 0.23089784279988346, 0.8541096320485347, 0.13880941929204935, -0.43372700379793494, -0.28070114567071175, -0.8486904526803669, -0.3424544805835001, 0.06390949711634361, -0.4659667032921659, -0.0805013907069969, -0.30828606102936057, 0.04525959555080219, -0.3036112361581533, 0.25010176175821297, -0.704140232738862, -0.12068962133227479, -0.42554681399567185, -0.18100936619541838, 0.1647570604150443, 0.35707631911137766, -0.3552866939435657, 0.14608295336982796, -0.32759191812163396, 0.11795125676129445, 0.05203986746110637, -0.0988945503886351, -0.612440264878055, 0.4553904606359189, 0.5221411580030441, 0.14126219173279111, -0.06873084933423772, -5.08365173620344E-4, 0.07538432916154136, 0.34599952946757306, 0.12536027963497476, -0.26284519894404496, -0.3483848890698562, -0.2539370002239886, -0.6133536469691557, -0.2585026148986588, 0.6692055876044608, 0.14825478041590356, 0.6575428428183966, 0.21564716925001076, 0.470197885290803, -0.20463844886691746, 0.22042553622913835, 4.425748675653818E-4, 0.5164157174049648, -0.35052221112543375, -0.13502368918584917, -0.6021073321886459, 0.2810958207071508, -0.29988908429132377, 0.42583902354842096, 0.03737190560902666, -0.5679635208920151, -0.4589071285520917, 0.6887479862188377, 0.5876858126608157, -0.6328662762017434, 0.7140169812754001, -0.4747450164316476, 0.2139975572043952, 0.8155372646213156, 0.22084413190846716, -0.5532010047812407, -0.4889181440404477, 0.5251722680685234, 0.5728439332043302, -0.3357813252550706, -0.4414719898925843, 0.5705960271180832, -0.23619239912518186, -0.6968156263747078, 0.8637855072469975, 0.9486361858305938, 0.5014594648018242, -0.891342163559351, -0.23418015634408404, -0.4688722011793135, -0.3864951456849987, -0.6746358956194163, -0.6332286563891452, -0.7213953387204378, -0.7034542347241519, -0.5288159281806727, 0.012999628261472811, 0.8493182659017232, 0.06795790372617169, -0.5614986325551603, -0.15170795133901244, 0.7793368958080914, 0.4710834369474549, 0.47918221036569186, 0.4589519618967913, 0.3443873241249278, -0.061516666681527964, -0.4745182583930738, 0.6450542017289786, -0.28861289242075605, 0.3945826061471839, 0.1419730695054504, -0.2725579633824103, 0.019347073723339235, -0.200599182943706, -0.09328469538745092, -0.29705265159464506, -0.2949761007269743, 0.5741435959800242, 0.23998757890290984, 0.60874436217744, 0.7614186885169314, 0.5868884522807705, -0.7727150134212193, -0.6027855302115619, 0.034645627888979506, -0.21370551886801956, 0.8519867640811876, 0.07135554302495384, -0.6062635573507694, -0.1791855174235059, -0.31506408873359437, -0.19228430190241522, 0.2177040375824288, 0.401153621876251, 0.3127629596509053, 0.2823318907836693, -0.00911236691535651, -0.3060604394343866, -0.08925584619548133, 0.32880203522604595, 0.4603450158095157, -0.4757518941879763, 0.7822623794019888, -0.352937113369601, -0.14196093362523332, -0.01045570284781001, 0.356955647967866, 0.20230442527961126, -0.1806656345250388, -0.3261742802508173, 0.1938858948607162, -0.10764050914397966, -0.18430083308287132, 0.34647286118495935, -0.6387797922553637, 0.037905399587507244, -0.3228538206121997, 0.3171995927115823, -0.4432394865459626, 0.6170199390809445, -0.5251414977375145, 0.6149755102635004, -0.40871008767683276, 0.33103848569017147, -0.16811438822193636, 0.4974506537482696, 0.18531246860924963, 0.18866009833452782, 0.43691654151926196, -0.3662859261872422, -0.259714910174474, -0.013681202292954324, -0.38443918139714867, 0.4296298357671381, 0.16163092926425823, -0.1337312719017538, 0.11123766064254242, -0.13708525252141257, -0.5462490194927861, -0.003203510990188174, 0.027195363105258996, -0.13845546581789056, -0.6572855728975978, 0.06743924131302631, 0.09878872218095727, -0.18782615111192968, -0.4277974948301144, 0.5965634191803787, -0.20589396437278784, -0.029043432769248534, -0.2500219224224955, 0.3896127400530375, 0.15368628293780395, -0.4359097759985179, 0.16729208067869722, -0.23776851164288695, -0.2408492025394144, 0.15940021541933844, -0.040786192844498165, -0.10551912475414495, 0.05449793305277841, -0.31268174833065954, 0.08493149206897788, 0.03826160240431611, -0.14561019126286495, -0.5340735020894776, 0.3548636814864432, -0.6252420729516563, 0.6041460932696866, 0.11936079618623036, 0.08481390411451836, -0.7123896230229778, 0.3017577867989145, -0.6855748318934497, 0.5771928183356392, -0.040191407728146056, -0.22535676188996778, 0.36965280502149, 0.038018489778512854, 0.3616186830227828, -0.3090249079876252, 0.40917526121155917, -0.09784139930929762, -0.5008012411850287, -0.46641430897284825, 0.028445523215982843, -0.21874962075233811, -0.05852698587562387, -0.12368229926822705, -0.5431735851260168, -0.02673051273603183, 0.06685478927050605, 0.31120329036207584, 0.5055781936192454, 0.06813211900791323, 0.3565980200056915, -0.4670220419170416, -0.06884019560019614, 0.3507681793739265, 0.23119576264838393, -0.06992126377951689, -0.018200626399781473, -0.20442568950737344, 0.42119320742827754, -0.08433350623765538, -0.14773378318042618, 0.17162210135056843, -0.3462874282683378, 0.12965399391222865, 0.5495806988980981, 0.21412083674661997, 0.2692295780961481, -0.5277082118081875, 0.13118127811341726, -0.19604744965370582, -0.33699882104128565, 0.03299217404512103, 0.6242362209891767, -0.2889525950137107, -0.5821728594817493, -0.3181807657201539, 0.12942042301616696, 0.6983479734548278, 0.619132913563214, 0.41820833639834526, -0.35050990962815665, 0.01865304144538685, -0.6506340117527076, -0.040585061414761744, 0.13689829644292456, -0.37122098486911215, -0.27340051577837277, 0.3636126764263537, -0.486290529645099, 0.07950766122860112, 0.1776807022187682, 0.4823998862444829, 0.021234274849558893, -0.002454565094105854, 0.10216505405287356, -0.07627430066525448, 0.3978292160904223, -0.22906513520779465, -0.48879140032123014, 0.12295399825015185, 0.4056966235027328, 0.7001127528824974, -0.41959635364582265, -0.5308572005159878, -0.7098872811143503, 0.3467621276279192, -0.07231518117093184, 0.17926083644301197, 0.7884365513129441, 0.5316188706352568, -0.19576348614838968, 0.5481392058008032, 0.13980744767656944, -0.7020584149993747, 0.3501660625466507, 0.32523908407296, -0.4114726296019165, -0.7085498037406622, -0.08269698351945712, -0.7341354066497952, -0.07357107135516805, 0.003853874100163586, 0.03055501569894506, -0.049876940327130026, 0.0342317779559151, 0.6235857127896575, 0.04905816858808075, 0.3104874523667374, 0.21607268792027984, -0.9481474607617242, -0.0031209035048040956, -0.4227625768809949, 0.39123145828789346, -0.1194588938976322, -0.028764340879051456, -0.7258499444979087, -0.0451249332701507, 0.5442063252724442, 0.3695787540199436, 0.16608097183352105, 0.16078833390537, 0.18321080475835466, 0.4972656122258466, 0.3329605698458413, 0.5099346092194529, -0.051064465257216335, -0.37665501810992996, 0.05809811007308775, -0.19362426494854942, 0.4334125501002821, 0.4481838812894301, 0.2603584300215943, 0.3197192920585744, 0.6670419732246938, 0.29440133922959055, -0.09193883291047589, 0.5212202738743664, -0.09813967623924708, 0.05757795873364899, -0.13305533800926272, -0.20952127427868522, 0.391776195012596, 0.09108460773222894, 0.3033358038879172, -0.6227486351613358, 0.1819019198612584, -0.2294037206102324, -0.17496222668287223, -0.39063311932066624, -0.21853902366901642, 0.2113549560525298, 0.5840796281877717, -0.2980801171836762, 0.13962791915929945, -0.5456631264873982, -0.27036205686952125, -0.18681126836936476, 0.35795726485623397, -0.28055697671865626, -0.3725341937180985, -0.018050923604382506, 0.12195791286641236, 0.14618048232512787, 0.003327699699759353, -0.5397450968141873, 0.30548607063824396, 0.6048564640322486, -0.42329185675580994, 0.4802349275887824, 0.08461752656941798, 0.7226980492638494, 0.6384387563570995, -0.3948841894570826, 0.0597273206321432, 0.23483489864674514, -0.41150556755269085, -0.3784818103790213, 0.21735973618731594, 0.1556182984640851, 0.26770595679623993, -0.303998218058239, -0.3709721375409794, 0.49928120166858003, -0.28895230672980043, 0.22402749274000405, -0.012176092019833511, 0.11378601300953534, -0.008702821001626546, -0.19439086414754703, -0.454448763757716, -0.18719059276178074, 0.028089369282093976, 0.1571714066652958, -0.11206203215001431, 0.6619415488728663, -0.1865855564218253, 0.3086605451989916, 0.14856101518131268, -0.5127630748028718, -0.020300613994606545, 0.15210267264663713, 0.5453210155617026, 0.7528167230292749, -0.13614977839677728, 0.16803849575328864, -0.003211132347324147, -0.05987762837497372, -0.44734662255032487, -0.01729970393221686, 0.5852532501455745, -0.5003606342866157, 0.22903881629388032, -0.3160629134575143, 0.03609825563194704, 0.019636369694589456, -0.7464111371660075, 0.31563118873666585, 0.017554998621897508, 0.05836358413329612, 0.3776359605531225, 0.05581084714221046, -0.488552098196503, -0.4765657464725962, 0.3057985272352495, 0.1520284370742635, 0.18455128303881868, 0.6075793546910545, 0.08141827104013807, -0.5527447581697, 0.12579881916165564, -0.3057474298127571, 0.16113639943490468, -0.1650526214854465, 0.030990037511738032, 0.08565998386930616, 0.06995457382372022, -0.26753717661534787, -0.17524947831564425, 0.24577530447721008, -0.05867352972001447, 0.07597363474770535, 0.35320656102200515, -0.2773459065943214, -0.04795921333127466, -0.30915411596494363, 0.655567708834824, 0.13944003071107808, 0.044856081431173006, 0.13600355078521326, -0.22650228591014035, -0.4187938253191516, -0.05710255900892024, -0.6755393390879101, -0.5624274060423424, -0.10719922681885671, -0.22101931860871654, 0.5776007694035946, -0.3450446688662326, 0.2371377551900377, -0.13752735719528836, -0.7840724969840358, -0.10711525420245906, -0.12058108100399055, 0.519664219461771, 0.26553793051508345, 0.6142056079981645, 0.08301187107873714, 0.35119409126160683, -0.17803848496296631, -0.39810184603495175, 0.3077109367774135, 0.24702082701664377, 0.30831947082659955, 0.668703283976888, -0.2485769487748046, 0.5843297691748279, -0.40933331616768454, 0.5788139792932644, 0.7030256234687187, 0.12186300802822164, 0.42082788278332117, -0.3519757615613417, 0.05218793711459372, -0.2862939364955628, 0.009274375467073728, -0.11106866103319928, 0.034962727832148294, 0.2714933111759196, 0.6848248759088413, 0.14947285289013518, -0.4281918616084617, 0.13932854043660997, 0.5483932268079065, -0.2406595822165238, -0.38600118785022897, -0.12291730131109493, 0.1098124093381217, 0.07663076319111875, -0.0806646952409468, -0.26390691242183467, -0.021970093228221667, -0.26520980746615674, -0.1176746738038319, -0.09474540425885833, -0.019381624102221447, 0.19855778411251845, 0.1895034734966427, 0.1279994665477464, 0.21812514882229742, -0.15688183739281014, -0.37993080787393363, 0.20696812096864148, -0.20222162128990098, 0.42825565757719875, 0.15679060443949322, -0.13907309280641222, -0.1125062553762779, -0.11591578279797307, -0.10506211680757802, -0.380261374918004, -0.07398874198843344};
		ANNWeights* arbi = new ANNWeights({5, 10, 3}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w1 = new ANNWeights({17, 20, 2}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w2 = new ANNWeights({12, 20, 2}, {false, true, false}, {false, true, true}, true);
		ANNWeights* w3 = new ANNWeights({11, 20, 2}, {false, true, false}, {false, true, true}, true);

		arbi->Randomize();
		//w1->Randomize();
		w1->Set(w);
		w2->Randomize();
		w3->Randomize();

		J1_S_Field::Configuration conf;
		conf.World = m_world;
		conf.TrainningMode = 1;
		m_scenemgr = new J1_S_Field(&conf, arbi, w1, w2, w3);
	}

	void Step(Settings* settings) {
		std::cout<<m_stepCount<<":   ";
		Test::Step(settings);

		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(45)<<"|"
					<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(46)<<"|"
						<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(47)<<" <----> ";
		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s1->IsActive()<<", "
					<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s2->IsActive()<<", "
						<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->m_a_s3->IsActive()<<" <----> ";
		std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetMode();
		std::cout<<std::endl;
		for(int i = 20; i <29; i++) {
			std::cout<<static_cast<J1_S_Field*>(m_scenemgr)->m_robot[0]->GetDataPool().Get<float>(i)<<", ";
		}

		//Draw();
		DrawCircleNest(b2Vec2(0,0), 16, b2Color(0.8f, 0.8f, 0.8f));

		/////////////////
		float time = m_stepCount /60.0f;
		char buffer[50];
		sprintf(buffer, "Replay : %6.2fs / 200.00s", time);
		DrawString(50,100,buffer);
		/////////////////

		std::cout<<std::endl;
	}

	/// Draw Nests.
	void DrawNest(float a) {
		m_debugDraw.DrawSegment(b2Vec2(-a, -a), b2Vec2(-a, a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(-a, a), b2Vec2(a, a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(a, a), b2Vec2(a, -a),
				b2Color(0.8f, 0.8f, 0.8f));
		m_debugDraw.DrawSegment(b2Vec2(a, -a), b2Vec2(-a, -a),
				b2Color(0.8f, 0.8f, 0.8f));
	}
	void DrawCircleNest(const b2Vec2& center, float32 radius, const b2Color& color) {
		m_debugDraw.DrawCircle(center, radius, color);
	}

	static Test* Create() {
		return new Replay_a2Game_Sample;
	}

	void Draw() {
		b2Vec2 w_v[10];
		//walls
		w_v[3] = b2Vec2(-55, -55);
		w_v[2] = b2Vec2(-50, -55);
		w_v[1] = b2Vec2(-50, 55);
		w_v[0] = b2Vec2(-55, 55);
		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));

		w_v[3] = b2Vec2(-55, -55);
		w_v[2] = b2Vec2(55, -55);
		w_v[1] = b2Vec2(55, -50);
		w_v[0] = b2Vec2(-55, -50);
		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));

		w_v[3] = b2Vec2(55, -55);
		w_v[2] = b2Vec2(55, 55);
		w_v[1] = b2Vec2(50, 55);
		w_v[0] = b2Vec2(50, -55);
		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));

		w_v[3] = b2Vec2(55, 55);
		w_v[2] = b2Vec2(-55, 55);
		w_v[1] = b2Vec2(-55, 50);
		w_v[0] = b2Vec2(55, 50);
		DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));

		//food area
		w_v[3] = b2Vec2(50, 50);
		w_v[2] = b2Vec2(-50, 50);
		w_v[1] = b2Vec2(-50, -50);
		w_v[0] = b2Vec2(50, -50);
		DrawSolidPolygon(w_v, 4, b2Color(0.7, 0.7, 0.7));

		//nest
		w_v[3] = b2Vec2(12, 12);
		w_v[2] = b2Vec2(-12, 12);
		w_v[1] = b2Vec2(-12, -12);
		w_v[0] = b2Vec2(12, -12);
		DrawSolidPolygon(w_v, 4, b2Color(0.5, 0.5, 0.5));

		//robots
		for(auto robot : m_scenemgr->GetNodesByTag(MAKE_TAG('r', 'o', 'b', 'o'))) {
			b2Body* bd1 = static_cast<J1_A_Robot*>(robot)->m_motor[0]->GetBody();
			w_v[0] = bd1->GetWorldPoint(b2Vec2(-0.25, -0.1));
			w_v[1] = bd1->GetWorldPoint(b2Vec2(0.25, -0.1));
			w_v[2] = bd1->GetWorldPoint(b2Vec2(0.25, 0.1));
			w_v[3] = bd1->GetWorldPoint(b2Vec2(-0.25, 0.1));
			DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
			b2Body* bd2 = static_cast<J1_A_Robot*>(robot)->m_motor[1]->GetBody();
			w_v[0] = bd2->GetWorldPoint(b2Vec2(-0.25, -0.1));
			w_v[1] = bd2->GetWorldPoint(b2Vec2(0.25, -0.1));
			w_v[2] = bd2->GetWorldPoint(b2Vec2(0.25, 0.1));
			w_v[3] = bd2->GetWorldPoint(b2Vec2(-0.25, 0.1));
			DrawSolidPolygon(w_v, 4, b2Color(0.2, 0.2, 0.2));
			DrawSolidCircle(static_cast<J1_A_Robot*>(robot)->GetMainComponent()->GetPosition(), 0.5f, b2Color(0.4,0.6,0.8));
		}

		//poison
		for(auto poison : m_scenemgr->GetNodesByTag(MAKE_TAG('p', 'o', 'i', 's'))) {
			auto col = b2Color(0.8, 0.17, 0.17);
			DrawSolidCircle(static_cast<Block*>(poison)->GetPosition(), static_cast<Block*>(poison)->GetBody()->GetFixtureList()->GetShape()->m_radius, col);
		}

		//resource
		for(auto resource : m_scenemgr->GetNodesByTag(MAKE_TAG('r', 'e', 's', 'o'))) {
			auto col = b2Color(0.2, 0.52, 0.3);
			DrawSolidCircle(static_cast<Block*>(resource)->GetPosition(), static_cast<Block*>(resource)->GetBody()->GetFixtureList()->GetShape()->m_radius, col);
		}
	}
};


/////
/////
/////
void DrawSolidCircle(const b2Vec2& center, float32 radius, const b2Color& color)
{
	const float32 k_segments = 16.0f;
	const float32 k_increment = 2.0f * b2_pi / k_segments;
	float32 theta = 0.0f;
	glEnable(GL_BLEND);
	glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_TRIANGLE_FAN);
	for (int32 i = 0; i < k_segments; ++i)
	{
		b2Vec2 v = center + radius * b2Vec2(cosf(theta), sinf(theta));
		glVertex2f(v.x, v.y);
		theta += k_increment;
	}
	glEnd();
	glDisable(GL_BLEND);

	theta = 0.0f;
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_LINE_LOOP);
	for (int32 i = 0; i < k_segments; ++i)
	{
		b2Vec2 v = center + radius * b2Vec2(cosf(theta), sinf(theta));
		glVertex2f(v.x, v.y);
		theta += k_increment;
	}
	glEnd();
}

void DrawSolidPolygon(const b2Vec2* vertices, int32 vertexCount, const b2Color& color)
{
	glEnable(GL_BLEND);
	glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_TRIANGLE_FAN);
	for (int32 i = 0; i < vertexCount; ++i)
	{
		glVertex2f(vertices[i].x, vertices[i].y);
	}
	glEnd();
	glDisable(GL_BLEND);

	glColor4f(color.r, color.g, color.b, 1);
	glBegin(GL_LINE_LOOP);
	for (int32 i = 0; i < vertexCount; ++i)
	{
		glVertex2f(vertices[i].x, vertices[i].y);
	}
	glEnd();
}

void DrawString(int x, int y, const char *string, ...)
{
	char buffer[128];

	va_list arg;
	va_start(arg, string);
	vsprintf(buffer, string, arg);
	va_end(arg);

	glMatrixMode(GL_PROJECTION);
	glPushMatrix();
	glLoadIdentity();
	int w = glutGet(GLUT_WINDOW_WIDTH);
	int h = glutGet(GLUT_WINDOW_HEIGHT);
	gluOrtho2D(0, w, h, 0);
	glMatrixMode(GL_MODELVIEW);
	glPushMatrix();
	glLoadIdentity();

	glColor3f(0.9f, 0.6f, 0.6f);
	glRasterPos2i(x, y);
	int32 length = (int32)strlen(buffer);
	for (int32 i = 0; i < length; ++i)
	{
		glutBitmapCharacter(GLUT_BITMAP_HELVETICA_18, buffer[i]);
	}

	glPopMatrix();
	glMatrixMode(GL_PROJECTION);
	glPopMatrix();
	glMatrixMode(GL_MODELVIEW);
}

void DrawString(const b2Vec2& p, const char *string, ...)
{
	char buffer[128];

	va_list arg;
	va_start(arg, string);
	vsprintf(buffer, string, arg);
	va_end(arg);

	glColor3f(0.5f, 0.9f, 0.5f);
	glRasterPos2f(p.x, p.y);

	int32 length = (int32)strlen(buffer);
	for (int32 i = 0; i < length; ++i)
	{
		glutBitmapCharacter(GLUT_BITMAP_8_BY_13, buffer[i]);
	}

	glPopMatrix();
}

void DrawSegment(const b2Vec2& p1, const b2Vec2& p2, const b2Color& color)
{
	glColor3f(color.r, color.g, color.b);
	glBegin(GL_LINES);
	glVertex2f(p1.x, p1.y);
	glVertex2f(p2.x, p2.y);
	glEnd();
}

#endif /* REPLAY_A2GAME_SAMPLE__H_ */
